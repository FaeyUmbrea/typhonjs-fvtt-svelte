{"version":3,"file":"index.js","sources":["../../../src/component/dialog/document/TJSDocumentCreate.svelte","../../../src/component/dialog/document/TJSDocumentDelete.svelte","../../../src/component/dialog/document/TJSDocumentImport.svelte","../../../src/component/dialog/document/TJSFolderCreateUpdate.svelte","../../../src/component/dialog/document/TJSFolderDelete.svelte","../../../src/component/dialog/document/TJSFolderExport.svelte","../../../src/component/dialog/document/TJSFolderRemove.svelte","../../../src/component/dialog/document/TJSFolderRolltable.svelte","../../../src/component/dialog/document/TJSPermissionControl.svelte"],"sourcesContent":["<script>\r\n   import { getContext }    from 'svelte';\r\n\r\n   import {\r\n      localize,\r\n      selectOptions }       from '@typhonjs-fvtt/svelte/helper';\r\n\r\n   export let documentCls = void 0;\r\n   export let data = {};\r\n   export let parent = null;\r\n   export let pack = null;\r\n   export let renderSheet = true;\r\n\r\n   const { application } = getContext('external');\r\n\r\n   let form;\r\n   let name, folderSelect, folders, hasTypes, type, types;\r\n\r\n   if (!Object.prototype.isPrototypeOf.call(foundry.abstract.Document, documentCls))\r\n   {\r\n      throw new TypeError(`TJSCreateDocument error: 'documentCls' is not a Document.`);\r\n   }\r\n\r\n   // Collect data\r\n   const documentName = documentCls.metadata.name;\r\n   const label = localize(documentCls.metadata.label);\r\n\r\n   folderSelect = data.folder || '';\r\n   folders = parent ? [] : game.folders.filter((f) => (f.data.type === documentName) && f.displayed);\r\n   types = game.system.documentTypes[documentName];\r\n\r\n   hasTypes = types.length > 1;\r\n\r\n   name = data.name || localize('DOCUMENT.New', { type: label });\r\n   type = data.type || types[0];\r\n\r\n   types = types.reduce((obj, t) =>\r\n   {\r\n      const typeLabel = CONFIG[documentName]?.typeLabels?.[t] ?? t;\r\n      obj[t] = game.i18n.has(typeLabel) ? localize(typeLabel) : t;\r\n      return obj;\r\n   }, {});\r\n\r\n   export function requestSubmit()\r\n   {\r\n      form.requestSubmit();\r\n   }\r\n\r\n   /**\r\n    * Creates a new document from the form data.\r\n    *\r\n    * @returns {Promise<void>}\r\n    */\r\n   async function saveData(event)\r\n   {\r\n      const fd = new FormDataExtended(event.target);\r\n\r\n      foundry.utils.mergeObject(data, fd.toObject(), { inplace: true });\r\n\r\n      if (!data.folder) { delete data['folder']; }\r\n      if (types.length === 1) { data.type = types[0]; }\r\n\r\n      const document = await documentCls.create(data, { parent, pack, renderSheet });\r\n\r\n      application.options.resolve?.(document);\r\n      application.close();\r\n   }\r\n</script>\r\n\r\n<svelte:options accessors={true}/>\r\n\r\n<form bind:this={form} on:submit|preventDefault={saveData} id=\"document-create\" autocomplete=\"off\">\r\n   <div class=\"form-group\">\r\n      <label>{localize('Name')}</label>\r\n      <div class=\"form-fields\">\r\n         <input type=\"text\" name=\"name\" placeholder={name} required/>\r\n      </div>\r\n   </div>\r\n\r\n   {#if hasTypes}\r\n      <div class=\"form-group\">\r\n         <label>{localize('Type')}</label>\r\n         <div class=\"form-fields\">\r\n            <select name=\"type\">\r\n               {@html selectOptions(types, {selected: type})}\r\n            </select>\r\n         </div>\r\n      </div>\r\n   {/if}\r\n\r\n   {#if folders.length >= 1}\r\n      <div class=\"form-group\">\r\n         <label>{localize('DOCUMENT.Folder')}</label>\r\n         <div class=\"form-fields\">\r\n            <select name=\"folder\" bind:value={folderSelect}>\r\n               <option value=\"\"></option>\r\n               {#each folders as folder}\r\n                  <option value={folder.id}>{folder.name}</option>\r\n               {/each}\r\n            </select>\r\n         </div>\r\n      </div>\r\n   {/if}\r\n</form>\r\n","<script>\r\n   import { getContext }   from 'svelte';\r\n\r\n   import { localize }     from '@typhonjs-fvtt/svelte/helper';\r\n   import { TJSDocument }  from '@typhonjs-fvtt/svelte/store';\r\n\r\n   /** @type {foundry.abstract.Document} */\r\n   export let document = void 0;\r\n\r\n   /** @type {object} DocumentModificationContext */\r\n   export let context = {};\r\n\r\n   const { application } = getContext('external');\r\n\r\n   if (!(document instanceof foundry.abstract.Document))\r\n   {\r\n      throw new TypeError(`TJSDocumentDelete error: 'document' is not an instance of Document.`);\r\n   }\r\n\r\n   const doc = new TJSDocument(document, { delete: application.close.bind(application) });\r\n\r\n   let name = document?.id ? document.name : '';\r\n   let type = localize(document.constructor.metadata.label);\r\n\r\n   $: if (typeof context !== 'object')\r\n   {\r\n      throw new TypeError(`TJSDocumentDelete error: 'context' is not an object.`);\r\n   }\r\n\r\n   $: if ($doc !== document)\r\n   {\r\n      if (!(document instanceof foundry.abstract.Document))\r\n      {\r\n         throw new TypeError(`TJSDocumentDelete error: 'document' is not an instance of Document.`);\r\n      }\r\n\r\n      doc.set(document);\r\n\r\n      name = document?.id ? document.name : '';\r\n      type = localize(document.constructor.metadata.label);\r\n\r\n      application.data.set('title', `${localize('DOCUMENT.Delete', { type })}: ${document.name}`);\r\n   }\r\n\r\n   /**\r\n    * Handles the button click for 'Yes'.\r\n    *\r\n    * @returns {Promise<void>}\r\n    */\r\n   export async function deleteDocument()\r\n   {\r\n      // Remove the delete Document function callback as we are intentionally deleting below.\r\n      doc.setOptions({ delete: void 0 });\r\n\r\n      const returnDoc = await document.delete(context);\r\n\r\n      application.options.resolve?.(returnDoc);\r\n   }\r\n</script>\r\n\r\n<svelte:options accessors={true}/>\r\n\r\n<h4>{localize('AreYouSure')}</h4>\r\n<p>{localize('SIDEBAR.DeleteWarning', { type })}</p>\r\n","<script>\r\n   import { getContext }   from 'svelte';\r\n\r\n   import { localize }     from '@typhonjs-fvtt/svelte/helper';\r\n   import { TJSDocument }  from '@typhonjs-fvtt/svelte/store';\r\n\r\n   /** @type {foundry.abstract.Document} */\r\n   export let document = void 0;\r\n\r\n   const { application } = getContext('external');\r\n\r\n   if (!(document instanceof foundry.abstract.Document))\r\n   {\r\n      throw new TypeError(`TJSDocumentImport error: 'document' is not an instance of Document.`);\r\n   }\r\n\r\n   const doc = new TJSDocument(document, { delete: application.close.bind(application) });\r\n\r\n   let form;\r\n\r\n   let hint1 = localize('DOCUMENT.ImportDataHint1', { document: document.documentName });\r\n   let hint2 = localize('DOCUMENT.ImportDataHint2', { name: document.name });\r\n\r\n   $: if ($doc !== document)\r\n   {\r\n      if (!(document instanceof foundry.abstract.Document))\r\n      {\r\n         throw new TypeError(`TJSDocumentImport error: 'document' is not an instance of Document.`);\r\n      }\r\n\r\n      doc.set(document);\r\n\r\n      hint1 = localize('DOCUMENT.ImportDataHint1', { document: document.documentName });\r\n      hint2 = localize('DOCUMENT.ImportDataHint2', { name: document.name });\r\n\r\n      application.data.set('title', `${localize('DOCUMENT.ImportData')}: ${document.name}`);\r\n   }\r\n\r\n   async function handleImport()\r\n   {\r\n      if (!form.data.files.length) { return ui.notifications.error('You did not upload a data file!'); }\r\n\r\n      const json = await readTextFromFile(form.data.files[0]);\r\n\r\n      const importedDoc = await document.importFromJSON(json);\r\n\r\n      application.options.resolve?.(importedDoc);\r\n      application.close();\r\n   }\r\n\r\n   export function requestSubmit()\r\n   {\r\n      form.requestSubmit();\r\n   }\r\n</script>\r\n\r\n<svelte:options accessors={true}/>\r\n\r\n<form bind:this={form} on:submit|preventDefault={handleImport} autocomplete=off>\r\n    <p class=notes>{hint1}</p>\r\n    <p class=notes>{hint2}</p>\r\n    <div class=form-group>\r\n        <label for=data>{localize('DOCUMENT.ImportSource')}</label>\r\n        <input type=file id=data required />\r\n    </div>\r\n</form>\r\n","<script>\r\n   import { getContext }   from 'svelte';\r\n\r\n   import {\r\n      localize,\r\n      radioBoxes }         from '@typhonjs-fvtt/svelte/helper';\r\n\r\n   import { TJSDocument }  from '@typhonjs-fvtt/svelte/store';\r\n\r\n   export let document = void 0;\r\n\r\n   const s_REGEX_HEX_COLOR = /^#(?:[0-9a-fA-F]{3}){1,2}$/;\r\n\r\n   const { application } = getContext('external');\r\n\r\n   if (!(document instanceof Folder))\r\n   {\r\n      throw new TypeError(`TJSFolderCreateUpdate error: 'document' is not an instance of Folder.`);\r\n   }\r\n\r\n   const doc = new TJSDocument(document, { delete: application.close.bind(application) });\r\n   const newName = localize('DOCUMENT.New', { type: localize(Folder.metadata.label) });\r\n   const sortingModes = { a: 'FOLDER.SortAlphabetical', m: 'FOLDER.SortManual' };\r\n\r\n   let form;\r\n\r\n   let name = document?.id ? document.name : '';\r\n   let color = document?.data?.color;\r\n\r\n   let colorText = '';\r\n\r\n   $: if ($doc !== document)\r\n   {\r\n      if (!(document instanceof Folder))\r\n      {\r\n         throw new TypeError(`TJSFolderCreateUpdate error: 'document' is not an instance of Folder.`);\r\n      }\r\n\r\n      doc.set(document);\r\n\r\n      name = document?.id ? document.name : '';\r\n      color = document?.data?.color;\r\n\r\n      // Update the dialog button label and title.\r\n      application.data.merge({\r\n         buttons: {\r\n            submit: {\r\n               label: localize(document?.id ? 'FOLDER.Update' : 'FOLDER.Create')\r\n            }\r\n         },\r\n         title: document?.id ? `${localize('FOLDER.Update')}: ${document.name}` : localize('FOLDER.Create')\r\n      });\r\n   }\r\n\r\n   // Reactive block to test color and if it is not a valid hex color then reset colorText and set color to black.\r\n   $: if (s_REGEX_HEX_COLOR.test(color))\r\n   {\r\n      colorText = color;\r\n   }\r\n   else\r\n   {\r\n      colorText = null;\r\n      color = '#000000'\r\n   }\r\n\r\n   export function requestSubmit()\r\n   {\r\n      form.requestSubmit();\r\n   }\r\n\r\n   /**\r\n    * Saves any form data / changes to document.\r\n    *\r\n    * @returns {Promise<void>}\r\n    */\r\n   async function saveData(event)\r\n   {\r\n      const formData = new FormDataExtended(event.target).toObject();\r\n\r\n      if (!formData.parent) { formData.parent = null; }\r\n\r\n      let modifiedDoc = document;\r\n\r\n      if (document.id)\r\n      {\r\n         await document.update(formData);\r\n      }\r\n      else\r\n      {\r\n         document.data.update(formData);\r\n         modifiedDoc = await Folder.create(document.data);\r\n      }\r\n\r\n      application.options.resolve?.(modifiedDoc);\r\n      application.close();\r\n   }\r\n</script>\r\n\r\n<svelte:options accessors={true}/>\r\n\r\n<form bind:this={form} on:submit|preventDefault={saveData} id=folder-create autocomplete=off>\r\n   <input type=hidden name=type value={document.data.type}/>\r\n   <input type=hidden name=parent value={document.data.parent}/>\r\n\r\n   <div class=form-group>\r\n      <label>{localize('FOLDER.Name')}</label>\r\n      <div class=form-fields>\r\n         <input type=text name=name placeholder={newName} value={name} required/>\r\n      </div>\r\n   </div>\r\n\r\n   <div class=form-group>\r\n      <label>{localize('FOLDER.Color')}</label>\r\n      <div class=form-fields>\r\n         <input type=text name=color bind:value={colorText} readonly />\r\n         <input type=color bind:value={color} data-edit=color />\r\n         <button type=button on:click={() => color = null}><i class=\"fas fa-trash-restore\"></i></button>\r\n      </div>\r\n   </div>\r\n\r\n   <div class=form-group>\r\n      <label>{localize('FOLDER.SortMode')}</label>\r\n      <div class=form-fields>\r\n         {@html radioBoxes('sorting', sortingModes, { checked: document.data.sorting, localize: true })}\r\n      </div>\r\n   </div>\r\n</form>\r\n","<script>\r\n   import { getContext }    from 'svelte';\r\n\r\n   import { localize }      from '@typhonjs-fvtt/svelte/helper';\r\n   import { TJSDocument }   from '@typhonjs-fvtt/svelte/store';\r\n\r\n   export let document = void 0;\r\n\r\n   const { application } = getContext('external');\r\n\r\n   if (!(document instanceof Folder))\r\n   {\r\n      throw new TypeError(`TJSFolderDelete error: 'document' is not an instance of Folder.`);\r\n   }\r\n\r\n   const doc = new TJSDocument(document, { delete: application.close.bind(application) });\r\n\r\n   $: if ($doc !== document)\r\n   {\r\n      if (!(document instanceof Folder))\r\n      {\r\n         throw new TypeError(`TJSFolderDelete error: 'document' is not an instance of Folder.`);\r\n      }\r\n\r\n      doc.set(document);\r\n\r\n      application.data.set('title', `${localize('FOLDER.Delete')}: ${document.name}`);\r\n   }\r\n\r\n   /**\r\n    * Removes a folder with deleting documents.\r\n    *\r\n    * @returns {Promise<Folder>}\r\n    */\r\n   export async function deleteFolder()\r\n   {\r\n      // Remove the delete Document function callback as we are intentionally deleting below.\r\n      doc.setOptions({ delete: void 0 });\r\n\r\n      const folder = await document.delete({ deleteSubfolders: true, deleteContents: true });\r\n\r\n      application.options.resolve?.(folder);\r\n      application.close();\r\n   }\r\n</script>\r\n\r\n<svelte:options accessors={true}/>\r\n\r\n<h4>{localize('AreYouSure')}</h4>\r\n<p>{localize('FOLDER.DeleteWarning')}</p>\r\n","<script>\r\n   import { getContext }      from 'svelte';\r\n\r\n   import { localize }        from '@typhonjs-fvtt/svelte/helper';\r\n\r\n   import { TJSDocument }     from '@typhonjs-fvtt/svelte/store';\r\n\r\n   export let document = void 0;\r\n\r\n   export let packName;\r\n   export let merge;\r\n   export let keepId;\r\n\r\n   let selected;\r\n\r\n   $: packName = typeof packName === 'string' ? packName : void 0;\r\n   $: merge = typeof merge === 'boolean' ? merge : true;\r\n   $: keepId = typeof keepId === 'boolean' ? keepId : true;\r\n\r\n   const { application } = getContext('external');\r\n\r\n   if (!(document instanceof Folder))\r\n   {\r\n      throw new TypeError(`TJSFolderExport error: 'document' is not an instance of Folder.`);\r\n   }\r\n\r\n   const doc = new TJSDocument(document, { delete: application.close.bind(application) });\r\n\r\n   // Get eligible pack destinations\r\n   let packs = game.packs.filter(p => (p.documentName === document.type) && !p.locked);\r\n   if (!packs.length)\r\n   {\r\n      ui.notifications.warn(localize('FOLDER.ExportWarningNone', { type: document.type }));\r\n      application.options.resolve?.(null);\r\n      application.close();\r\n   }\r\n\r\n   selected = packs[0].metadata.name;\r\n\r\n   // Configure any default pack by ID search.\r\n   for (const pack of packs)\r\n   {\r\n      if (pack.title === packName) { selected = pack.metadata.name; }\r\n   }\r\n\r\n   $:\r\n   {\r\n      // Update the title if document name changes\r\n      application.data.set('title', `${localize('FOLDER.ExportTitle')}: ${$doc.name}`);\r\n   }\r\n\r\n   /**\r\n    * Export folder documents to compendium.\r\n    *\r\n    * @returns {Promise<CompendiumCollection|boolean>}\r\n    */\r\n   export async function exportData()\r\n   {\r\n      // Find the pack; maybe it has been deleted or locked\r\n      const pack = game.packs.find((p) => (p?.metadata?.package === 'world') && (p?.metadata?.name === selected));\r\n\r\n      if (pack instanceof CompendiumCollection && !pack?.locked)\r\n      {\r\n         await document.exportToCompendium(pack, {\r\n            updateByName: merge,\r\n            keepId\r\n         });\r\n\r\n         application.options.resolve?.(pack);\r\n      }\r\n      else\r\n      {\r\n         application.options.resolve?.(false);\r\n      }\r\n\r\n      application.close();\r\n   }\r\n</script>\r\n\r\n<svelte:options accessors={true}/>\r\n\r\n<form on:submit|preventDefault={exportData} autocomplete=off>\r\n    <p class=notes>{localize('FOLDER.ExportHint')}</p>\r\n    <div class=form-group>\r\n        <label>{localize('FOLDER.ExportDestination')}</label>\r\n        <select name=pack bind:value={selected}>\r\n            {#each packs as pack (pack.id)}\r\n                <option value={pack.metadata.name}>{pack.title}</option>\r\n            {/each}\r\n        </select>\r\n    </div>\r\n    <div class=form-group>\r\n        <label>{localize('FOLDER.ExportMerge')}</label>\r\n        <input type=checkbox name=merge bind:checked={merge}/>\r\n    </div>\r\n    <div class=form-group>\r\n        <label>{localize('FOLDER.ExportKeepId')}</label>\r\n        <input type=checkbox name=keepId bind:checked={keepId}/>\r\n    </div>\r\n</form>\r\n","<script>\r\n   import { getContext }    from 'svelte';\r\n\r\n   import { localize }      from '@typhonjs-fvtt/svelte/helper';\r\n   import { TJSDocument }   from '@typhonjs-fvtt/svelte/store';\r\n\r\n   export let document = void 0;\r\n\r\n   const { application } = getContext('external');\r\n\r\n   if (!(document instanceof Folder))\r\n   {\r\n      throw new TypeError(`TJSFolderRemove error: 'document' is not an instance of Folder.`);\r\n   }\r\n\r\n   const doc = new TJSDocument(document, { delete: application.close.bind(application) });\r\n\r\n   $: if ($doc !== document)\r\n   {\r\n      if (!(document instanceof Folder))\r\n      {\r\n         throw new TypeError(`TJSFolderRemove error: 'document' is not an instance of Folder.`);\r\n      }\r\n\r\n      doc.set(document);\r\n\r\n      application.data.set('title', `${localize('FOLDER.Remove')}: ${document.name}`);\r\n   }\r\n\r\n   /**\r\n    * Removes a folder without deleting documents.\r\n    *\r\n    * @returns {Promise<Folder>}\r\n    */\r\n   export async function removeFolder()\r\n   {\r\n      // Remove the delete Document function callback as we are intentionally deleting below.\r\n      doc.setOptions({ delete: void 0 });\r\n\r\n      const folder = await document.delete({ deleteSubfolders: false, deleteContents: false });\r\n\r\n      application.options.resolve?.(folder);\r\n      application.close();\r\n   }\r\n</script>\r\n\r\n<svelte:options accessors={true}/>\r\n\r\n<h4>{localize('AreYouSure')}</h4>\r\n<p>{localize('FOLDER.RemoveWarning')}</p>\r\n","<script>\r\n   import { getContext }      from 'svelte';\r\n\r\n   import { localize }        from '@typhonjs-fvtt/svelte/helper';\r\n   import { TJSDocument }     from '@typhonjs-fvtt/svelte/store';\r\n\r\n   export let document = void 0;\r\n\r\n   const { application } = getContext('external');\r\n\r\n   if (!(document instanceof Folder))\r\n   {\r\n      throw new TypeError(`TJSFolderRolltable error: 'document' is not an instance of Folder.`);\r\n   }\r\n\r\n   const doc = new TJSDocument(document, { delete: application.close.bind(application) });\r\n\r\n   $: if ($doc !== document)\r\n   {\r\n      if (!(document instanceof Folder))\r\n      {\r\n         throw new TypeError(`TJSFolderRolltable error: 'document' is not an instance of Folder.`);\r\n      }\r\n\r\n      doc.set(document);\r\n\r\n      application.data.set('title', `${localize('FOLDER.CreateTable')}: ${document.name}`);\r\n   }\r\n\r\n   /**\r\n    * Creates roll table from folder documents.\r\n    *\r\n    * @returns {Promise<RollTable>}\r\n    */\r\n   export async function createTable()\r\n   {\r\n      const rollTable = await RollTable.fromFolder(document);\r\n\r\n      application.options.resolve?.(rollTable);\r\n      application.close();\r\n   }\r\n</script>\r\n\r\n<svelte:options accessors={true}/>\r\n\r\n{localize('FOLDER.CreateTableConfirm')}\r\n","<script>\r\n   import { getContext }   from 'svelte';\r\n\r\n   import {\r\n      localize,\r\n      selectOptions }      from '@typhonjs-fvtt/svelte/helper';\r\n\r\n   import { TJSDocument }  from '@typhonjs-fvtt/svelte/store';\r\n\r\n   export let document = void 0;\r\n\r\n   const { application } = getContext('external');\r\n\r\n   if (!(document instanceof foundry.abstract.Document))\r\n   {\r\n      throw new TypeError(`TJSPermissionControl error: 'document' is not an instance of Document.`);\r\n   }\r\n\r\n   const doc = new TJSDocument(document, { delete: application.close.bind(application) });\r\n\r\n   let form, instructions;\r\n   let currentDefault, defaultLevels, playerLevels, users;\r\n   let isFolder = document instanceof Folder;\r\n\r\n   $: if ($doc !== document)\r\n   {\r\n      if (!(document instanceof foundry.abstract.Document))\r\n      {\r\n         throw new TypeError(`TJSPermissionControl error: 'document' is not an instance of Document.`);\r\n      }\r\n\r\n      doc.set(document);\r\n\r\n      const title = localize('PERMISSION.Title');\r\n\r\n      application.data.set('title', `${title}: ${document.name}`);\r\n   }\r\n\r\n   $: {\r\n      ({ currentDefault, defaultLevels, playerLevels, users } = getData());\r\n      isFolder = $doc instanceof Folder;\r\n      instructions = localize(isFolder ? 'PERMISSION.HintFolder' : 'PERMISSION.HintDocument');\r\n   }\r\n\r\n   /**\r\n    * Builds the data for the permission dialog from the document.\r\n    */\r\n   function getData()\r\n   {\r\n      // User permission levels\r\n      const playerLevels = {};\r\n      if (isFolder)\r\n      {\r\n         playerLevels['-2'] = localize('PERMISSION.DEFAULT');\r\n         playerLevels['-1'] = localize('PERMISSION.NOCHANGE');\r\n      }\r\n      else\r\n      {\r\n         playerLevels['-1'] = localize('PERMISSION.DEFAULT');\r\n      }\r\n\r\n      for (const [n, l] of Object.entries(CONST.DOCUMENT_PERMISSION_LEVELS))\r\n      {\r\n         playerLevels[l] = localize(`PERMISSION.${n}`);\r\n      }\r\n\r\n      // Default permission levels\r\n      const defaultLevels = foundry.utils.deepClone(playerLevels);\r\n\r\n      if (isFolder) { delete defaultLevels['-2']; }\r\n      else { delete defaultLevels['-1']; }\r\n\r\n      // Player users\r\n      const users = game.users.map((u) =>\r\n      {\r\n         return {\r\n            user: u,\r\n            level: $doc.data.permission?.[u.id] ?? '-1'\r\n         };\r\n      });\r\n\r\n      // Construct and return the data object\r\n      return {\r\n         currentDefault: $doc.data.permission?.default ?? '-1',\r\n         defaultLevels,\r\n         playerLevels,\r\n         users\r\n      };\r\n   }\r\n\r\n   export function requestSubmit()\r\n   {\r\n      form.requestSubmit();\r\n   }\r\n\r\n   /**\r\n    * Saves any form data / changes to document.\r\n    *\r\n    * @returns {Promise<void>}\r\n    */\r\n   async function saveData(event)\r\n   {\r\n      if (!($doc instanceof foundry.abstract.Document)) { return; }\r\n\r\n      const formData = new FormDataExtended(event.target).toObject();\r\n\r\n      // Collect user permissions\r\n      const perms = {};\r\n      for (const [user, level] of Object.entries(formData))\r\n      {\r\n         if (level === -1)\r\n         {\r\n            delete perms[user];\r\n            continue;\r\n         }\r\n         perms[user] = level;\r\n      }\r\n\r\n      // Update all documents in a Folder\r\n      if ($doc instanceof Folder)\r\n      {\r\n         const cls = getDocumentClass($doc.type);\r\n         const updates = $doc.content.map((e) =>\r\n         {\r\n            const p = foundry.utils.deepClone(e.data.permission);\r\n            for (const [k, v] of Object.entries(perms))\r\n            {\r\n               if (v === -2) { delete p[k]; }\r\n               else { p[k] = v; }\r\n            }\r\n            return { _id: e.id, permission: p };\r\n         });\r\n\r\n         await cls.updateDocuments(updates, { diff: false, recursive: false, noHook: true });\r\n\r\n         application.options.resolve?.($doc);\r\n         application.close();\r\n      }\r\n\r\n      // Update a single Document\r\n      await $doc.update({ permission: perms }, { diff: false, recursive: false, noHook: true });\r\n\r\n      application.options.resolve?.($doc);\r\n      application.close();\r\n   }\r\n</script>\r\n\r\n<svelte:options accessors={true}/>\r\n\r\n<form bind:this={form} on:submit|preventDefault={saveData} id=permission-control>\r\n   <p class=notes>{instructions}</p>\r\n\r\n   <div class=form-group>\r\n      <label>{localize('PERMISSION.AllPlayers')}</label>\r\n      <select name=default data-dtype=Number>\r\n         {@html selectOptions(defaultLevels, { selected: currentDefault })}\r\n      </select>\r\n   </div>\r\n   <hr/>\r\n\r\n   {#each users as data (data.user.id)}\r\n      <div class=form-group class:hidden={data.user.isGM}>\r\n         <label>{data.user.name}</label>\r\n            <select name={data.user.id} data-dtype=Number>\r\n               {@html selectOptions(playerLevels, { selected: data.level })}\r\n            </select>\r\n        </div>\r\n    {/each}\r\n</form>\r\n"],"names":[],"mappings":"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"}