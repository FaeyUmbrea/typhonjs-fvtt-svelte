{"version":3,"file":"index.js","sources":["../../../../typhonjs-svelte/lib/node_modules/@typhonjs-utils/dyn-array-reducer/dist/DynArrayReducer.js","../../../../typhonjs-svelte/lib/src/store/functions.js","../../../../typhonjs-svelte/lib/node_modules/svelte-persistent-store/dist/chunk.I6NEYSOQ.mjs","../../../../typhonjs-svelte/lib/node_modules/svelte-persistent-store/dist/chunk.HHIHGWA2.mjs","../../../../typhonjs-svelte/lib/src/store/LocalStorage.js","../../../../typhonjs-svelte/lib/node_modules/svelte-persistent-store/dist/chunk.ZLJ3FCQ6.mjs","../../../../typhonjs-svelte/lib/src/store/SessionStorage.js","../../../../typhonjs-svelte/lib/node_modules/svelte-writable-derived/index.mjs","../../src/store/document/TJSDocument.js","../../src/store/document/TJSDocumentCollection.js","../../src/store/gameState.js","../../src/store/TJSGameSettings.js","../../../../typhonjs-svelte/lib/src/animate/nextAnimationFrame.js","../../src/store/position/AdapterValidators.js","../../src/store/position/constants.js","../../src/store/position/validators/browserWindow.js","../../src/store/position/validators/transformWindow.js","../../src/store/position/Transforms.js","../../src/store/position/Position.js"],"sourcesContent":["/**\r\n * Provides the storage and sequencing of managed filters. Each filter added may be a bespoke function or a\r\n * {@link FilterData} object containing an `id`, `filter`, and `weight` attributes; `filter` is the only required\r\n * attribute.\r\n *\r\n * The `id` attribute can be anything that creates a unique ID for the filter; recommended strings or numbers. This\r\n * allows filters to be removed by ID easily.\r\n *\r\n * The `weight` attribute is a number between 0 and 1 inclusive that allows filters to be added in a\r\n * predictable order which is especially handy if they are manipulated at runtime. A lower weighted filter always runs\r\n * before a higher weighted filter. For speed and efficiency always set the heavier / more inclusive filter with a\r\n * lower weight; an example of this is a keyword / name that will filter out many entries making any further filtering\r\n * faster. If no weight is specified the default of '1' is assigned and it is appended to the end of the filters list.\r\n *\r\n * This class forms the public API which is accessible from the `.filters` getter in the main DynArrayReducer instance.\r\n * ```\r\n * const dynArray = new DynArrayReducer([...]);\r\n * dynArray.filters.add(...);\r\n * dynArray.filters.clear();\r\n * dynArray.filters.length;\r\n * dynArray.filters.remove(...);\r\n * dynArray.filters.removeBy(...);\r\n * dynArray.filters.removeById(...);\r\n * ```\r\n *\r\n * @template T\r\n */\r\nclass AdapterFilters\r\n{\r\n   #filtersAdapter;\r\n   #indexUpdate;\r\n   #mapUnsubscribe = new Map();\r\n\r\n   /**\r\n    * @param {Function} indexUpdate - update function for the indexer.\r\n    *\r\n    * @returns {[AdapterFilters<T>, {filters: FilterData<T>[]}]} Returns this and internal storage for filter adapters.\r\n    */\r\n   constructor(indexUpdate)\r\n   {\r\n      this.#indexUpdate = indexUpdate;\r\n\r\n      this.#filtersAdapter = { filters: [] };\r\n\r\n      Object.seal(this);\r\n\r\n      return [this, this.#filtersAdapter];\r\n   }\r\n\r\n   /**\r\n    * @returns {number} Returns the length of the\r\n    */\r\n   get length() { return this.#filtersAdapter.filters.length; }\r\n\r\n   /**\r\n    * Provides an iterator for filters.\r\n    *\r\n    * @returns {Generator<number|undefined, FilterData<T>, *>} Generator / iterator of filters.\r\n    * @yields {FilterData<T>}\r\n    */\r\n   *[Symbol.iterator]()\r\n   {\r\n      if (this.#filtersAdapter.filters.length === 0) { return; }\r\n\r\n      for (const entry of this.#filtersAdapter.filters)\r\n      {\r\n         yield { ...entry };\r\n      }\r\n   }\r\n\r\n   /**\r\n    * @param {...(FilterFn<T>|FilterData<T>)}   filters -\r\n    */\r\n   add(...filters)\r\n   {\r\n      /**\r\n       * Tracks the number of filters added that have subscriber functionality.\r\n       *\r\n       * @type {number}\r\n       */\r\n      let subscribeCount = 0;\r\n\r\n      for (const filter of filters)\r\n      {\r\n         const filterType = typeof filter;\r\n\r\n         if (filterType !== 'function' && filterType !== 'object' || filter === null)\r\n         {\r\n            throw new TypeError(`DynArrayReducer error: 'filter' is not a function or object.`);\r\n         }\r\n\r\n         let data = void 0;\r\n         let subscribeFn = void 0;\r\n\r\n         switch (filterType)\r\n         {\r\n            case 'function':\r\n               data = {\r\n                  id: void 0,\r\n                  filter,\r\n                  weight: 1\r\n               };\r\n\r\n               subscribeFn = filter.subscribe;\r\n               break;\r\n\r\n            case 'object':\r\n               if (typeof filter.filter !== 'function')\r\n               {\r\n                  throw new TypeError(`DynArrayReducer error: 'filter' attribute is not a function.`);\r\n               }\r\n\r\n               if (filter.weight !== void 0 && typeof filter.weight !== 'number' ||\r\n                (filter.weight < 0 || filter.weight > 1))\r\n               {\r\n                  throw new TypeError(\r\n                   `DynArrayReducer error: 'weight' attribute is not a number between '0 - 1' inclusive.`);\r\n               }\r\n\r\n               data = {\r\n                  id: filter.id !== void 0 ? filter.id : void 0,\r\n                  filter: filter.filter,\r\n                  weight: filter.weight || 1\r\n               };\r\n\r\n               subscribeFn = filter.filter.subscribe ?? filter.subscribe;\r\n               break;\r\n         }\r\n\r\n         // Find the index to insert where data.weight is less than existing values weight.\r\n         const index = this.#filtersAdapter.filters.findIndex((value) =>\r\n         {\r\n            return data.weight < value.weight;\r\n         });\r\n\r\n         // If an index was found insert at that location.\r\n         if (index >= 0)\r\n         {\r\n            this.#filtersAdapter.filters.splice(index, 0, data);\r\n         }\r\n         else // push to end of filters.\r\n         {\r\n            this.#filtersAdapter.filters.push(data);\r\n         }\r\n\r\n         if (typeof subscribeFn === 'function')\r\n         {\r\n            const unsubscribe = subscribeFn(this.#indexUpdate);\r\n\r\n            // Ensure that unsubscribe is a function.\r\n            if (typeof unsubscribe !== 'function')\r\n            {\r\n               throw new TypeError(\r\n                'DynArrayReducer error: Filter has subscribe function, but no unsubscribe function is returned.');\r\n            }\r\n\r\n            // Ensure that the same filter is not subscribed to multiple times.\r\n            if (this.#mapUnsubscribe.has(data.filter))\r\n            {\r\n               throw new Error(\r\n                'DynArrayReducer error: Filter added already has an unsubscribe function registered.');\r\n            }\r\n\r\n            this.#mapUnsubscribe.set(data.filter, unsubscribe);\r\n            subscribeCount++;\r\n         }\r\n      }\r\n\r\n      // Filters with subscriber functionality are assumed to immediately invoke the `subscribe` callback. If the\r\n      // subscriber count is less than the amount of filters added then automatically trigger an index update manually.\r\n      if (subscribeCount < filters.length) { this.#indexUpdate(); }\r\n   }\r\n\r\n   clear()\r\n   {\r\n      this.#filtersAdapter.filters.length = 0;\r\n\r\n      // Unsubscribe from all filters with subscription support.\r\n      for (const unsubscribe of this.#mapUnsubscribe.values())\r\n      {\r\n         unsubscribe();\r\n      }\r\n\r\n      this.#mapUnsubscribe.clear();\r\n\r\n      this.#indexUpdate();\r\n   }\r\n\r\n   /**\r\n    * @param {...(FilterFn<T>|FilterData<T>)}   filters -\r\n    */\r\n   remove(...filters)\r\n   {\r\n      const length = this.#filtersAdapter.filters.length;\r\n\r\n      if (length === 0) { return; }\r\n\r\n      for (const data of filters)\r\n      {\r\n         // Handle the case that the filter may either be a function or a filter entry / object.\r\n         const actualFilter = typeof data === 'function' ? data : data !== null && typeof data === 'object' ?\r\n          data.filter : void 0;\r\n\r\n         if (!actualFilter) { continue; }\r\n\r\n         for (let cntr = this.#filtersAdapter.filters.length; --cntr >= 0;)\r\n         {\r\n            if (this.#filtersAdapter.filters[cntr].filter === actualFilter)\r\n            {\r\n               this.#filtersAdapter.filters.splice(cntr, 1);\r\n\r\n               // Invoke any unsubscribe function for given filter then remove from tracking.\r\n               let unsubscribe = void 0;\r\n               if (typeof (unsubscribe = this.#mapUnsubscribe.get(actualFilter)) === 'function')\r\n               {\r\n                  unsubscribe();\r\n                  this.#mapUnsubscribe.delete(actualFilter);\r\n               }\r\n            }\r\n         }\r\n      }\r\n\r\n      // Update the index a filter was removed.\r\n      if (length !== this.#filtersAdapter.filters.length) { this.#indexUpdate(); }\r\n   }\r\n\r\n   /**\r\n    * Remove filters by the provided callback. The callback takes 3 parameters: `id`, `filter`, and `weight`.\r\n    * Any truthy value returned will remove that filter.\r\n    *\r\n    * @param {function(*, FilterFn<T>, number): boolean} callback - Callback function to evaluate each filter entry.\r\n    */\r\n   removeBy(callback)\r\n   {\r\n      const length = this.#filtersAdapter.filters.length;\r\n\r\n      if (length === 0) { return; }\r\n\r\n      if (typeof callback !== 'function')\r\n      {\r\n         throw new TypeError(`DynArrayReducer error: 'callback' is not a function.`);\r\n      }\r\n\r\n      this.#filtersAdapter.filters = this.#filtersAdapter.filters.filter((data) =>\r\n      {\r\n         const remove = callback.call(callback, { ...data });\r\n\r\n         if (remove)\r\n         {\r\n            let unsubscribe;\r\n            if (typeof (unsubscribe = this.#mapUnsubscribe.get(data.filter)) === 'function')\r\n            {\r\n               unsubscribe();\r\n               this.#mapUnsubscribe.delete(data.filter);\r\n            }\r\n         }\r\n\r\n         // Reverse remove boolean to properly filter / remove this filter.\r\n         return !remove;\r\n      });\r\n\r\n      if (length !== this.#filtersAdapter.filters.length) { this.#indexUpdate(); }\r\n   }\r\n\r\n   removeById(...ids)\r\n   {\r\n      const length = this.#filtersAdapter.filters.length;\r\n\r\n      if (length === 0) { return; }\r\n\r\n      this.#filtersAdapter.filters = this.#filtersAdapter.filters.filter((data) =>\r\n      {\r\n         let remove = false;\r\n\r\n         for (const id of ids) { remove |= data.id === id; }\r\n\r\n         // If not keeping invoke any unsubscribe function for given filter then remove from tracking.\r\n         if (remove)\r\n         {\r\n            let unsubscribe;\r\n            if (typeof (unsubscribe = this.#mapUnsubscribe.get(data.filter)) === 'function')\r\n            {\r\n               unsubscribe();\r\n               this.#mapUnsubscribe.delete(data.filter);\r\n            }\r\n         }\r\n\r\n         return !remove; // Swap here to actually remove the item via array filter method.\r\n      });\r\n\r\n      if (length !== this.#filtersAdapter.filters.length) { this.#indexUpdate(); }\r\n   }\r\n}\n\n/**\r\n * @template T\r\n */\r\nclass AdapterSort\r\n{\r\n   #sortAdapter;\r\n   #indexUpdate;\r\n   #unsubscribe;\r\n\r\n   /**\r\n    * @param {Function} indexUpdate - Function to update indexer.\r\n    *\r\n    * @returns {[AdapterSort<T>, {compareFn: CompareFn<T>}]} This and the internal sort adapter data.\r\n    */\r\n   constructor(indexUpdate)\r\n   {\r\n      this.#indexUpdate = indexUpdate;\r\n\r\n      this.#sortAdapter = { compareFn: null };\r\n\r\n      Object.seal(this);\r\n\r\n      return [this, this.#sortAdapter];\r\n   }\r\n\r\n   /**\r\n    * @param {CompareFn<T>|SortData<T>}  data -\r\n    *\r\n    * A callback function that compares two values. Return > 0 to sort b before a;\r\n    * < 0 to sort a before b; or 0 to keep original order of a & b.\r\n    *\r\n    * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort#parameters\r\n    */\r\n   set(data)\r\n   {\r\n      if (typeof this.#unsubscribe === 'function')\r\n      {\r\n         this.#unsubscribe();\r\n         this.#unsubscribe = void 0;\r\n      }\r\n\r\n      let compareFn = void 0;\r\n      let subscribeFn = void 0;\r\n\r\n      switch (typeof data)\r\n      {\r\n         case 'function':\r\n            compareFn = data;\r\n            subscribeFn = data.subscribe;\r\n            break;\r\n\r\n         case 'object':\r\n            // Early out if data is null / noop.\r\n            if (data === null) { break; }\r\n\r\n            if (typeof data.compare !== 'function')\r\n            {\r\n               throw new TypeError(`DynArrayReducer error: 'compare' attribute is not a function.`);\r\n            }\r\n\r\n            compareFn = data.compare;\r\n            subscribeFn = data.compare.subscribe ?? data.subscribe;\r\n            break;\r\n      }\r\n\r\n      if (typeof compareFn === 'function')\r\n      {\r\n         this.#sortAdapter.compareFn = compareFn;\r\n      }\r\n      else\r\n      {\r\n         const oldCompareFn = this.#sortAdapter.compareFn;\r\n         this.#sortAdapter.compareFn = null;\r\n\r\n         // Update index if the old compare function exists.\r\n         if (typeof oldCompareFn === 'function') { this.#indexUpdate(); }\r\n         return;\r\n      }\r\n\r\n      if (typeof subscribeFn === 'function')\r\n      {\r\n         this.#unsubscribe = subscribeFn(this.#indexUpdate);\r\n\r\n         // Ensure that unsubscribe is a function.\r\n         if (typeof this.#unsubscribe !== 'function')\r\n         {\r\n            throw new Error(\r\n             `DynArrayReducer error: sort has 'subscribe' function, but no 'unsubscribe' function is returned.`);\r\n         }\r\n      }\r\n      else\r\n      {\r\n         // A sort function with subscriber functionality are assumed to immediately invoke the `subscribe` callback.\r\n         // Only manually update the index if there is no subscriber functionality.\r\n         this.#indexUpdate();\r\n      }\r\n   }\r\n\r\n   reset()\r\n   {\r\n      const oldCompareFn = this.#sortAdapter.compareFn;\r\n\r\n      this.#sortAdapter.compareFn = null;\r\n\r\n      if (typeof this.#unsubscribe === 'function')\r\n      {\r\n         this.#unsubscribe();\r\n         this.#unsubscribe = void 0;\r\n      }\r\n\r\n      // Only update index if an old compare function is set.\r\n      if (typeof oldCompareFn === 'function') { this.#indexUpdate(); }\r\n   }\r\n}\n\nclass Indexer\r\n{\r\n   constructor(hostItems, hostUpdate)\r\n   {\r\n      this.hostItems = hostItems;\r\n      this.hostUpdate = hostUpdate;\r\n\r\n      const indexAdapter = { index: null, hash: null };\r\n\r\n      const publicAPI = {\r\n         update: this.update.bind(this),\r\n\r\n         /**\r\n          * Provides an iterator over the index array.\r\n          *\r\n          * @returns {Generator<any, void, *>} Iterator.\r\n          * @yields\r\n          */\r\n         [Symbol.iterator]: function *()\r\n         {\r\n            if (!indexAdapter.index) { return; }\r\n\r\n            for (const index of indexAdapter.index) { yield index; }\r\n         }\r\n      };\r\n\r\n      // Define a getter on the public API to get the length / count of index array.\r\n      Object.defineProperties(publicAPI, {\r\n         hash: { get: () => indexAdapter.hash },\r\n         isActive: { get: () => this.isActive() },\r\n         length: { get: () => Array.isArray(indexAdapter.index) ? indexAdapter.index.length : 0 }\r\n      });\r\n\r\n      Object.freeze(publicAPI);\r\n\r\n      indexAdapter.publicAPI = publicAPI;\r\n\r\n      this.indexAdapter = indexAdapter;\r\n\r\n      return [this, indexAdapter];\r\n   }\r\n\r\n   /**\r\n    * Calculates a new hash value for the new index array if any. If the new index array is null then the hash value\r\n    * is set to null. Set calculated new hash value to the index adapter hash value.\r\n    *\r\n    * After hash generation compare old and new hash values and perform an update if they are different. If they are\r\n    * equal check for array equality between the old and new index array and perform an update if they are not equal.\r\n    *\r\n    * @param {number[]}    oldIndex - Old index array.\r\n    *\r\n    * @param {number|null} oldHash - Old index hash value.\r\n    */\r\n   calcHashUpdate(oldIndex, oldHash)\r\n   {\r\n      let newHash = null;\r\n      const newIndex = this.indexAdapter.index;\r\n\r\n      if (newIndex)\r\n      {\r\n         for (let cntr = newIndex.length; --cntr >= 0;)\r\n         {\r\n            newHash ^= newIndex[cntr] + 0x9e3779b9 + (newHash << 6) + (newHash >> 2);\r\n         }\r\n      }\r\n\r\n      this.indexAdapter.hash = newHash;\r\n\r\n      if (oldHash === newHash ? !s_ARRAY_EQUALS(oldIndex, newIndex) : true) { this.hostUpdate(); }\r\n   }\r\n\r\n   initAdapters(filtersAdapter, sortAdapter)\r\n   {\r\n      this.filtersAdapter = filtersAdapter;\r\n      this.sortAdapter = sortAdapter;\r\n\r\n      this.sortFn = (a, b) =>\r\n      {\r\n         return this.sortAdapter.compareFn(this.hostItems[a], this.hostItems[b]);\r\n      };\r\n   }\r\n\r\n   isActive()\r\n   {\r\n      return this.filtersAdapter.filters.length > 0 || this.sortAdapter.compareFn !== null;\r\n   }\r\n\r\n   /**\r\n    * Provides the custom filter / reduce step that is ~25-40% faster than implementing with `Array.reduce`.\r\n    *\r\n    * Note: Other loop unrolling techniques like Duff's Device gave a slight faster lower bound on large data sets,\r\n    * but the maintenance factor is not worth the extra complication.\r\n    *\r\n    * @returns {number[]} New filtered index array.\r\n    */\r\n   reduceImpl()\r\n   {\r\n      const data = [];\r\n\r\n      const filters = this.filtersAdapter.filters;\r\n\r\n      let include = true;\r\n\r\n      for (let cntr = 0, length = this.hostItems.length; cntr < length; cntr++)\r\n      {\r\n         include = true;\r\n\r\n         for (let filCntr = 0, filLength = filters.length; filCntr < filLength; filCntr++)\r\n         {\r\n            if (!filters[filCntr].filter(this.hostItems[cntr]))\r\n            {\r\n               include = false;\r\n               break;\r\n            }\r\n         }\r\n\r\n         if (include) { data.push(cntr); }\r\n      }\r\n\r\n      return data;\r\n   }\r\n\r\n   update()\r\n   {\r\n      const oldIndex = this.indexAdapter.index;\r\n      const oldHash = this.indexAdapter.hash;\r\n\r\n      // Clear index if there are no filters and no sort function or the index length doesn't match the item length.\r\n      if ((this.filtersAdapter.filters.length === 0 && !this.sortAdapter.compareFn) ||\r\n       (this.indexAdapter.index && this.hostItems.length !== this.indexAdapter.index.length))\r\n      {\r\n         this.indexAdapter.index = null;\r\n      }\r\n\r\n      // If there are filters build new index.\r\n      if (this.filtersAdapter.filters.length > 0) { this.indexAdapter.index = this.reduceImpl(); }\r\n\r\n      if (this.sortAdapter.compareFn)\r\n      {\r\n         // If there is no index then create one with keys matching host item length.\r\n         if (!this.indexAdapter.index) { this.indexAdapter.index = [...Array(this.hostItems.length).keys()]; }\r\n\r\n         this.indexAdapter.index.sort(this.sortFn);\r\n      }\r\n\r\n      this.calcHashUpdate(oldIndex, oldHash);\r\n   }\r\n}\r\n\r\n/**\r\n * Checks for array equality between two arrays of numbers.\r\n *\r\n * @param {number[]} a - Array A\r\n *\r\n * @param {number[]} b - Array B\r\n *\r\n * @returns {boolean} Arrays equal\r\n */\r\nfunction s_ARRAY_EQUALS(a, b)\r\n{\r\n   if (a === b) { return true; }\r\n   if (a === null || b === null) { return false; }\r\n\r\n   /* c8 ignore next */\r\n   if (a.length !== b.length) { return false; }\r\n\r\n   for (let cntr = a.length; --cntr >= 0;)\r\n   {\r\n      /* c8 ignore next */\r\n      if (a[cntr] !== b[cntr]) { return false; }\r\n   }\r\n\r\n   return true;\r\n}\n\n/**\r\n * Provides a managed array with non-destructive reducing / filtering / sorting capabilities with subscription /\r\n * Svelte store support.\r\n *\r\n * @template T\r\n */\r\nclass DynArrayReducer\r\n{\r\n   #items;\r\n\r\n   #index;\r\n   #indexAdapter;\r\n\r\n   /**\r\n    * @type {AdapterFilters<T>}\r\n    */\r\n   #filters;\r\n\r\n   /**\r\n    * @type {{filters: FilterFn<T>[]}}\r\n    */\r\n   #filtersAdapter;\r\n\r\n   /**\r\n    * @type {AdapterSort<T>}\r\n    */\r\n   #sort;\r\n\r\n   /**\r\n    * @type {{compareFn: CompareFn<T>}}\r\n    */\r\n   #sortAdapter;\r\n\r\n   #subscriptions = [];\r\n\r\n   /**\r\n    * Initializes DynArrayReducer. Any iterable is supported for initial data. Take note that if `data` is an array it\r\n    * will be used as the host array and not copied. All non-array iterables otherwise create a new array / copy.\r\n    *\r\n    * @param {Iterable<T>|DynData<T>}   data - Data iterable to store if array or copy otherwise.\r\n    */\r\n   constructor(data = void 0)\r\n   {\r\n      let dataIterable = void 0;\r\n      let filters = void 0;\r\n      let sort = void 0;\r\n\r\n      // Potentially working with DynData.\r\n      if (!s_IS_ITERABLE(data) && typeof data === 'object')\r\n      {\r\n         if (!s_IS_ITERABLE(data.data))\r\n         {\r\n            throw new TypeError(`DynArrayReducer error (DynData): 'data' attribute is not iterable.`);\r\n         }\r\n\r\n         dataIterable = data.data;\r\n\r\n         if (data.filters !== void 0)\r\n         {\r\n            if (s_IS_ITERABLE(data.filters))\r\n            {\r\n               filters = data.filters;\r\n            }\r\n            else\r\n            {\r\n               throw new TypeError(`DynArrayReducer error (DynData): 'filters' attribute is not iterable.`);\r\n            }\r\n         }\r\n\r\n         if (data.sort !== void 0)\r\n         {\r\n            if (typeof data.sort === 'function')\r\n            {\r\n               sort = data.sort;\r\n            }\r\n            else\r\n            {\r\n               throw new TypeError(`DynArrayReducer error (DynData): 'sort' attribute is not a function.`);\r\n            }\r\n         }\r\n      }\r\n      else\r\n      {\r\n         if (!s_IS_ITERABLE(data)) { throw new TypeError(`DynArrayReducer error: 'data' is not iterable.`); }\r\n\r\n         dataIterable = data;\r\n      }\r\n\r\n      // In the case of the main data being an array directly use the array otherwise create a copy.\r\n      this.#items = Array.isArray(dataIterable) ? dataIterable : [...dataIterable];\r\n\r\n      [this.#index, this.#indexAdapter] = new Indexer(this.#items, this.#notify.bind(this));\r\n\r\n      [this.#filters, this.#filtersAdapter] = new AdapterFilters(this.#indexAdapter.publicAPI.update);\r\n      [this.#sort, this.#sortAdapter] = new AdapterSort(this.#indexAdapter.publicAPI.update);\r\n\r\n      this.#index.initAdapters(this.#filtersAdapter, this.#sortAdapter);\r\n\r\n      // Add any filters and sort function defined by DynData.\r\n      if (filters) { this.filters.add(...filters); }\r\n      if (sort) { this.sort.set(sort); }\r\n   }\r\n\r\n   /**\r\n    * @returns {AdapterFilters<T>} The filters adapter.\r\n    */\r\n   get filters() { return this.#filters; }\r\n\r\n   /**\r\n    * Returns the Indexer public API.\r\n    *\r\n    * @returns {IndexerAPI & Iterable<number>} Indexer API - is also iterable.\r\n    */\r\n   get index() { return this.#indexAdapter.publicAPI; }\r\n\r\n   /**\r\n    * Gets the main data / items length.\r\n    *\r\n    * @returns {number} Main data / items length.\r\n    */\r\n   get length() { return this.#items.length; }\r\n\r\n   /**\r\n    * @returns {AdapterSort<T>} The sort adapter.\r\n    */\r\n   get sort() { return this.#sort; }\r\n\r\n   /**\r\n    *\r\n    * @param {function(DynArrayReducer<T>): void} handler - Callback function that is invoked on update / changes.\r\n    *                                                       Receives `this` reference.\r\n    *\r\n    * @returns {(function(): void)} Unsubscribe function.\r\n    */\r\n   subscribe(handler)\r\n   {\r\n      this.#subscriptions.push(handler); // add handler to the array of subscribers\r\n\r\n      handler(this);                     // call handler with current value\r\n\r\n      // Return unsubscribe function.\r\n      return () =>\r\n      {\r\n         const index = this.#subscriptions.findIndex((sub) => sub === handler);\r\n         if (index >= 0) { this.#subscriptions.splice(index, 1); }\r\n      };\r\n   }\r\n\r\n   /**\r\n    *\r\n    */\r\n   #notify()\r\n   {\r\n      // Subscriptions are stored locally as on the browser Babel is still used for private class fields / Babel\r\n      // support until 2023. IE not doing this will require several extra method calls otherwise.\r\n      const subscriptions = this.#subscriptions;\r\n      for (let cntr = 0; cntr < subscriptions.length; cntr++) { subscriptions[cntr](this); }\r\n   }\r\n\r\n   /**\r\n    * Provides an iterator for data stored in DynArrayReducer.\r\n    *\r\n    * @returns {Generator<*, T, *>} Generator / iterator of all data.\r\n    * @yields {T}\r\n    */\r\n   *[Symbol.iterator]()\r\n   {\r\n      const items = this.#items;\r\n\r\n      if (items.length === 0) { return; }\r\n\r\n      if (this.#index.isActive())\r\n      {\r\n         for (const entry of this.index) { yield items[entry]; }\r\n      }\r\n      else\r\n      {\r\n         for (const entry of items) { yield entry; }\r\n      }\r\n   }\r\n}\r\n\r\n/**\r\n * Provides a utility method to determine if the given data is iterable / implements iterator protocol.\r\n *\r\n * @param {*}  data - Data to verify as iterable.\r\n *\r\n * @returns {boolean} Is data iterable.\r\n */\r\nfunction s_IS_ITERABLE(data)\r\n{\r\n   return data !== null && data !== void 0 && typeof data === 'object' && typeof data[Symbol.iterator] === 'function';\r\n}\n\nexport { DynArrayReducer };\n","/**\r\n * Provides a basic test for a given variable to test if it has the shape of a store by having a `subscribe` function.\r\n * Note: functions are also objects, so test that the variable might be a function w/ a `subscribe` function.\r\n *\r\n * @param {*}  store - variable to test that might be a store.\r\n *\r\n * @returns {boolean} Whether the variable tested has the shape of a store.\r\n */\r\nexport function isStore(store)\r\n{\r\n   if (store === null || store === void 0) { return false; }\r\n\r\n   switch (typeof store)\r\n   {\r\n      case 'function':\r\n      case 'object':\r\n         return typeof store.subscribe === 'function';\r\n   }\r\n\r\n   return false;\r\n}\r\n\r\n/**\r\n * Subscribes to the given store with the update function provided and ignores the first automatic\r\n * update. All future updates are dispatched to the update function.\r\n *\r\n * @param {import('svelte/store').Readable | import('svelte/store').Writable} store -\r\n *  Store to subscribe to...\r\n *\r\n * @param {import('svelte/store').Updater} update - function to receive future updates.\r\n *\r\n * @returns {import('svelte/store').Unsubscriber} Store unsubscribe function.\r\n */\r\nexport function subscribeIgnoreFirst(store, update)\r\n{\r\n   let firedFirst = false;\r\n\r\n   return store.subscribe((value) => {\r\n      if (!firedFirst)\r\n      {\r\n         firedFirst = true;\r\n      }\r\n      else {\r\n         update(value);\r\n      }\r\n   })\r\n}\r\n\r\n/**\r\n * Subscribes to the given store with two update functions provided. The first function is invoked on the initial\r\n * subscription. All future updates are dispatched to the update function.\r\n *\r\n * @param {import('svelte/store').Readable | import('svelte/store').Writable} store -\r\n *  Store to subscribe to...\r\n *\r\n * @param {import('svelte/store').Updater} first - Function to receive first update.\r\n *\r\n * @param {import('svelte/store').Updater} update - Function to receive future updates.\r\n *\r\n * @returns {import('svelte/store').Unsubscriber} Store unsubscribe function.\r\n */\r\nexport function subscribeFirstRest(store, first, update)\r\n{\r\n   let firedFirst = false;\r\n\r\n   return store.subscribe((value) => {\r\n      if (!firedFirst)\r\n      {\r\n         firedFirst = true;\r\n         first(value);\r\n      }\r\n      else {\r\n         update(value);\r\n      }\r\n   })\r\n}\r\n","// src/generator.ts\nimport {writable as ogWritable, get as ogGet} from \"svelte/store\";\nimport {run_all, noop, is_function} from \"svelte/internal\";\nfunction isSimpleDeriver(deriver) {\n  return deriver.length < 2;\n}\nfunction generator(storage) {\n  function readable(key, value, start) {\n    return {\n      subscribe: writable(key, value, start).subscribe\n    };\n  }\n  function writable(key, value, start = noop) {\n    function wrap_start(ogSet) {\n      return start(function wrap_set(new_value) {\n        if (storage) {\n          storage.setItem(key, JSON.stringify(new_value));\n        }\n        return ogSet(new_value);\n      });\n    }\n    if (storage) {\n      if (storage.getItem(key)) {\n        value = JSON.parse(storage.getItem(key));\n      }\n      storage.setItem(key, JSON.stringify(value));\n    }\n    const ogStore = ogWritable(value, start ? wrap_start : void 0);\n    function set(new_value) {\n      if (storage) {\n        storage.setItem(key, JSON.stringify(new_value));\n      }\n      ogStore.set(new_value);\n    }\n    function update(fn) {\n      set(fn(ogGet(ogStore)));\n    }\n    function subscribe(run, invalidate = noop) {\n      return ogStore.subscribe(run, invalidate);\n    }\n    return {set, update, subscribe};\n  }\n  function derived(key, stores, fn, initial_value) {\n    const single = !Array.isArray(stores);\n    const stores_array = single ? [stores] : stores;\n    if (storage && storage.getItem(key)) {\n      initial_value = JSON.parse(storage.getItem(key));\n    }\n    return readable(key, initial_value, (set) => {\n      let inited = false;\n      const values = [];\n      let pending = 0;\n      let cleanup = noop;\n      const sync = () => {\n        if (pending) {\n          return;\n        }\n        cleanup();\n        const input = single ? values[0] : values;\n        if (isSimpleDeriver(fn)) {\n          set(fn(input));\n        } else {\n          const result = fn(input, set);\n          cleanup = is_function(result) ? result : noop;\n        }\n      };\n      const unsubscribers = stores_array.map((store, i) => store.subscribe((value) => {\n        values[i] = value;\n        pending &= ~(1 << i);\n        if (inited) {\n          sync();\n        }\n      }, () => {\n        pending |= 1 << i;\n      }));\n      inited = true;\n      sync();\n      return function stop() {\n        run_all(unsubscribers);\n        cleanup();\n      };\n    });\n  }\n  return {\n    readable,\n    writable,\n    derived,\n    get: ogGet\n  };\n}\n\nexport {\n  generator\n};\n","import {\n  generator\n} from \"./chunk.I6NEYSOQ.mjs\";\n\n// src/local.ts\nvar storage = typeof window !== \"undefined\" ? window.localStorage : void 0;\nvar g = generator(storage);\nvar readable = g.readable;\nvar writable = g.writable;\nvar derived = g.derived;\nvar get = g.get;\n\nexport {\n  readable,\n  writable,\n  derived,\n  get\n};\n","import { writable }  from 'svelte-persistent-store/local';\r\nimport { get }       from 'svelte/store';\r\n\r\n/**\r\n * @typedef {import('svelte/store').Writable & import('svelte/store').get} LSStore - The backing Svelte store; a writable w/ get method attached.\r\n */\r\n\r\nexport class LocalStorage\r\n{\r\n   /**\r\n    * @type {Map<string, LSStore>}\r\n    */\r\n   #stores = new Map();\r\n\r\n   /**\r\n    * Get value from the localstorage.\r\n    *\r\n    * @param {string}   key - Key to lookup in localstorage.\r\n    *\r\n    * @param {*}        [defaultValue] - A default value to return if key not present in local storage.\r\n    *\r\n    * @returns {*} Value from local storage or if not defined any default value provided.\r\n    */\r\n   getItem(key, defaultValue)\r\n   {\r\n      let value = defaultValue;\r\n\r\n      const storageValue = localStorage.getItem(key);\r\n\r\n      if (storageValue !== void 0)\r\n      {\r\n         value = JSON.parse(storageValue);\r\n      }\r\n\r\n      return value;\r\n   }\r\n\r\n   /**\r\n    * Returns the backing Svelte store for the given key; potentially sets a default value if the key\r\n    * is not already set.\r\n    *\r\n    * @param {string}   key - Key to lookup in localstorage.\r\n    *\r\n    * @param {*}        [defaultValue] - A default value to return if key not present in local storage.\r\n    *\r\n    * @returns {LSStore} The Svelte store for this key.\r\n    */\r\n   getStore(key, defaultValue)\r\n   {\r\n      return s_GET_STORE(this.#stores, key, defaultValue);\r\n   }\r\n\r\n   /**\r\n    * Sets the value for the given key in localstorage.\r\n    *\r\n    * @param {string}   key - Key to lookup in localstorage.\r\n    *\r\n    * @param {*}        value - A value to set for this key.\r\n    */\r\n   setItem(key, value)\r\n   {\r\n      const store = s_GET_STORE(this.#stores, key);\r\n      store.set(value);\r\n   }\r\n\r\n   /**\r\n    * Convenience method to swap a boolean value stored in local storage.\r\n    *\r\n    * @param {string}   key - Key to lookup in localstorage.\r\n    *\r\n    * @param {boolean}  [defaultValue] - A default value to return if key not present in local storage.\r\n    *\r\n    * @returns {boolean} The boolean swap for the given key.\r\n    */\r\n   swapItemBoolean(key, defaultValue)\r\n   {\r\n      const store = s_GET_STORE(this.#stores, key, defaultValue);\r\n      const value = store.get();\r\n      const newValue = typeof value === 'boolean' ? !value : false;\r\n\r\n      store.set(newValue);\r\n      return newValue;\r\n   }\r\n}\r\n\r\n/**\r\n * Gets a store from the LSStore Map or creates a new store for the key and a given default value.\r\n *\r\n * @param {Map<string, LSStore>} stores - Map containing Svelte stores.\r\n *\r\n * @param {string}               key - Key to lookup in stores map.\r\n *\r\n * @param {boolean}              [defaultValue] - A default value to set for the store.\r\n *\r\n * @returns {LSStore} The store for the given key.\r\n */\r\nfunction s_GET_STORE(stores, key, defaultValue = void 0)\r\n{\r\n   let store = stores.get(key);\r\n   if (store === void 0)\r\n   {\r\n      store = s_CREATE_STORE(key, defaultValue);\r\n      stores.set(key, store);\r\n   }\r\n\r\n   return store;\r\n}\r\n\r\n/**\r\n * Creates a new LSStore for the given key.\r\n *\r\n * @param {string}   key - Key to lookup in stores map.\r\n *\r\n * @param {boolean}  [defaultValue] - A default value to set for the store.\r\n *\r\n * @returns {LSStore} The new LSStore.\r\n */\r\nfunction s_CREATE_STORE(key, defaultValue = void 0)\r\n{\r\n   try\r\n   {\r\n      if (localStorage.getItem(key))\r\n      {\r\n         defaultValue = JSON.parse(localStorage.getItem(key));\r\n      }\r\n   }\r\n   catch (err) { /**/ }\r\n\r\n   const store = writable(key, defaultValue);\r\n   store.get = () => get(store);\r\n\r\n   return store;\r\n}\r\n","import {\n  generator\n} from \"./chunk.I6NEYSOQ.mjs\";\n\n// src/session.ts\nvar storage = typeof window !== \"undefined\" ? window.sessionStorage : void 0;\nvar g = generator(storage);\nvar readable = g.readable;\nvar writable = g.writable;\nvar derived = g.derived;\nvar get = g.get;\n\nexport {\n  readable,\n  writable,\n  derived,\n  get\n};\n","import { writable }  from 'svelte-persistent-store/session';\r\nimport { get }       from 'svelte/store';\r\n\r\n/**\r\n * @typedef {import('svelte/store').Writable & import('svelte/store').get} SSStore - The backing Svelte store; a writable w/ get method attached.\r\n */\r\n\r\nexport class SessionStorage\r\n{\r\n   /**\r\n    * @type {Map<string, SSStore>}\r\n    */\r\n   #stores = new Map();\r\n\r\n   /**\r\n    * Get value from the sessionstorage.\r\n    *\r\n    * @param {string}   key - Key to lookup in sessionstorage.\r\n    *\r\n    * @param {*}        [defaultValue] - A default value to return if key not present in session storage.\r\n    *\r\n    * @returns {*} Value from session storage or if not defined any default value provided.\r\n    */\r\n   getItem(key, defaultValue)\r\n   {\r\n      let value = defaultValue;\r\n\r\n      const storageValue = sessionStorage.getItem(key);\r\n\r\n      if (storageValue !== void 0)\r\n      {\r\n         value = JSON.parse(storageValue);\r\n      }\r\n\r\n      return value;\r\n   }\r\n\r\n   /**\r\n    * Returns the backing Svelte store for the given key; potentially sets a default value if the key\r\n    * is not already set.\r\n    *\r\n    * @param {string}   key - Key to lookup in sessionstorage.\r\n    *\r\n    * @param {*}        [defaultValue] - A default value to return if key not present in session storage.\r\n    *\r\n    * @returns {LSStore} The Svelte store for this key.\r\n    */\r\n   getStore(key, defaultValue)\r\n   {\r\n      return s_GET_STORE(this.#stores, key, defaultValue);\r\n   }\r\n\r\n   /**\r\n    * Sets the value for the given key in sessionstorage.\r\n    *\r\n    * @param {string}   key - Key to lookup in sessionstorage.\r\n    *\r\n    * @param {*}        value - A value to set for this key.\r\n    */\r\n   setItem(key, value)\r\n   {\r\n      const store = s_GET_STORE(this.#stores, key);\r\n      store.set(value);\r\n   }\r\n\r\n   /**\r\n    * Convenience method to swap a boolean value stored in session storage.\r\n    *\r\n    * @param {string}   key - Key to lookup in sessionstorage.\r\n    *\r\n    * @param {boolean}  [defaultValue] - A default value to return if key not present in session storage.\r\n    *\r\n    * @returns {boolean} The boolean swap for the given key.\r\n    */\r\n   swapItemBoolean(key, defaultValue)\r\n   {\r\n      const store = s_GET_STORE(this.#stores, key, defaultValue);\r\n      const value = store.get();\r\n      const newValue = typeof value === 'boolean' ? !value : false;\r\n\r\n      store.set(newValue);\r\n      return newValue;\r\n   }\r\n}\r\n\r\n/**\r\n * Gets a store from the SSStore Map or creates a new store for the key and a given default value.\r\n *\r\n * @param {Map<string, LSStore>} stores - Map containing Svelte stores.\r\n *\r\n * @param {string}               key - Key to lookup in stores map.\r\n *\r\n * @param {boolean}              [defaultValue] - A default value to set for the store.\r\n *\r\n * @returns {LSStore} The store for the given key.\r\n */\r\nfunction s_GET_STORE(stores, key, defaultValue = void 0)\r\n{\r\n   let store = stores.get(key);\r\n   if (store === void 0)\r\n   {\r\n      store = s_CREATE_STORE(key, defaultValue);\r\n      stores.set(key, store);\r\n   }\r\n\r\n   return store;\r\n}\r\n\r\n/**\r\n * Creates a new SSStore for the given key.\r\n *\r\n * @param {string}   key - Key to lookup in stores map.\r\n *\r\n * @param {boolean}  [defaultValue] - A default value to set for the store.\r\n *\r\n * @returns {LSStore} The new LSStore.\r\n */\r\nfunction s_CREATE_STORE(key, defaultValue = void 0)\r\n{\r\n   try\r\n   {\r\n      if (sessionStorage.getItem(key))\r\n      {\r\n         defaultValue = JSON.parse(sessionStorage.getItem(key));\r\n      }\r\n   }\r\n   catch (err) { /**/ }\r\n\r\n   const store = writable(key, defaultValue);\r\n   store.get = () => get(store);\r\n\r\n   return store;\r\n}\r\n","import { derived, get } from \"svelte/store\";\n/**\n * @external Store\n * @see [Svelte stores](https://svelte.dev/docs#Store_contract)\n */\n\n/**\n * Create a store similar to [Svelte's `derived`](https://svelte.dev/docs#derived), but which\n * has its own `set` and `update` methods and can send values back to the origin stores.\n * [Read more...](https://github.com/PixievoltNo1/svelte-writable-derived#default-export-writablederived)\n * \n * @param {Store|Store[]} origins One or more stores to derive from. Same as\n * [`derived`](https://svelte.dev/docs#derived)'s 1st parameter.\n * @param {!Function} derive The callback to determine the derived value. Same as\n * [`derived`](https://svelte.dev/docs#derived)'s 2nd parameter.\n * @param {!Function|{withOld: !Function}} reflect Called when the\n * derived store gets a new value via its `set` or `update` methods, and determines new values for\n * the origin stores. [Read more...](https://github.com/PixievoltNo1/svelte-writable-derived#new-parameter-reflect)\n * @param [initial] The new store's initial value. Same as\n * [`derived`](https://svelte.dev/docs#derived)'s 3rd parameter.\n * \n * @returns {Store} A writable store.\n */\nexport default function writableDerived(origins, derive, reflect, initial) {\n\tvar childDerivedSetter, originValues, allowDerive = true;\n\tvar reflectOldValues = \"withOld\" in reflect;\n\tvar wrappedDerive = (got, set) => {\n\t\tchildDerivedSetter = set;\n\t\tif (reflectOldValues) {\n\t\t\toriginValues = got;\n\t\t}\n\t\tif (allowDerive) {\n\t\t\tlet returned = derive(got, set);\n\t\t\tif (derive.length < 2) {\n\t\t\t\tset(returned);\n\t\t\t} else {\n\t\t\t\treturn returned;\n\t\t\t}\n\t\t}\n\t};\n\tvar childDerived = derived(origins, wrappedDerive, initial);\n\t\n\tvar singleOrigin = !Array.isArray(origins);\n\tvar sendUpstream = (setWith) => {\n\t\tallowDerive = false;\n\t\tif (singleOrigin) {\n\t\t\torigins.set(setWith);\n\t\t} else {\n\t\t\tsetWith.forEach( (value, i) => {\n\t\t\t\torigins[i].set(value);\n\t\t\t} );\n\t\t}\n\t\tallowDerive = true;\n\t};\n\tif (reflectOldValues) {\n\t\treflect = reflect.withOld;\n\t}\n\tvar reflectIsAsync = reflect.length >= (reflectOldValues ? 3 : 2);\n\tvar cleanup = null;\n\tfunction doReflect(reflecting) {\n\t\tif (cleanup) {\n\t\t\tcleanup();\n\t\t\tcleanup = null;\n\t\t}\n\n\t\tif (reflectOldValues) {\n\t\t\tvar returned = reflect(reflecting, originValues, sendUpstream);\n\t\t} else {\n\t\t\tvar returned = reflect(reflecting, sendUpstream);\n\t\t}\n\t\tif (reflectIsAsync) {\n\t\t\tif (typeof returned == \"function\") {\n\t\t\t\tcleanup = returned;\n\t\t\t}\n\t\t} else {\n\t\t\tsendUpstream(returned);\n\t\t}\n\t}\n\t\n\tvar tryingSet = false;\n\tfunction update(fn) {\n\t\tvar isUpdated, mutatedBySubscriptions, oldValue, newValue;\n\t\tif (tryingSet) {\n\t\t\tnewValue = fn( get(childDerived) );\n\t\t\tchildDerivedSetter(newValue);\n\t\t\treturn;\n\t\t}\n\t\tvar unsubscribe = childDerived.subscribe( (value) => {\n\t\t\tif (!tryingSet) {\n\t\t\t\toldValue = value;\n\t\t\t} else if (!isUpdated) {\n\t\t\t\tisUpdated = true;\n\t\t\t} else {\n\t\t\t\tmutatedBySubscriptions = true;\n\t\t\t}\n\t\t} );\n\t\tnewValue = fn(oldValue);\n\t\ttryingSet = true;\n\t\tchildDerivedSetter(newValue);\n\t\tunsubscribe();\n\t\ttryingSet = false;\n\t\tif (mutatedBySubscriptions) {\n\t\t\tnewValue = get(childDerived);\n\t\t}\n\t\tif (isUpdated) {\n\t\t\tdoReflect(newValue);\n\t\t}\n\t}\n\treturn {\n\t\tsubscribe: childDerived.subscribe,\n\t\tset(value) { update( () => value ); },\n\t\tupdate,\n\t};\n}\nexport { writableDerived };\n\n/**\n * Create a store for a property value in an object contained in another store.\n * [Read more...](https://github.com/PixievoltNo1/svelte-writable-derived#named-export-propertystore)\n * \n * @param {Store} origin The store containing the object to get/set from.\n * @param {string|number|symbol|Array<string|number|symbol>} propName The property to get/set, or a path of\n * properties in nested objects.\n *\n * @returns {Store} A writable store.\n */\nexport function propertyStore(origin, propName) {\n\tif (!Array.isArray(propName)) {\n\t\treturn writableDerived(\n\t\t\torigin,\n\t\t\t(object) => object[propName],\n\t\t\t{ withOld(reflecting, object) {\n\t\t\t\tobject[propName] = reflecting;\n\t\t\t\treturn object;\n\t\t\t} }\n\t\t);\n\t} else {\n\t\tlet props = propName.concat();\n\t\treturn writableDerived(\n\t\t\torigin,\n\t\t\t(value) => {\n\t\t\t\tfor (let i = 0; i < props.length; ++i) {\n\t\t\t\t\tvalue = value[ props[i] ];\n\t\t\t\t}\n\t\t\t\treturn value;\n\t\t\t},\n\t\t\t{ withOld(reflecting, object) {\n\t\t\t\tlet target = object;\n\t\t\t\tfor (let i = 0; i < props.length - 1; ++i) {\n\t\t\t\t\ttarget = target[ props[i] ];\n\t\t\t\t}\n\t\t\t\ttarget[ props[props.length - 1] ] = reflecting;\n\t\t\t\treturn object;\n\t\t\t} }\n\t\t);\n\t}\n}","import {\r\n   getUUIDFromDataTransfer,\r\n   isObject,\r\n   uuidv4 } from '@typhonjs-fvtt/svelte/util';\r\n\r\n/**\r\n * Provides a wrapper implementing the Svelte store / subscriber protocol around any Document / ClientMixinDocument.\r\n * This makes documents reactive in a Svelte component, but otherwise provides subscriber functionality external to\r\n * Svelte.\r\n *\r\n * @template {foundry.abstract.Document} T\r\n */\r\nexport class TJSDocument\r\n{\r\n   #document;\r\n   #uuidv4;\r\n\r\n   /**\r\n    * @type {TJSDocumentOptions}\r\n    */\r\n   #options = { delete: void 0, notifyOnDelete: false };\r\n\r\n   #subscriptions = [];\r\n   #updateOptions;\r\n\r\n   /**\r\n    * @param {T}                    [document] - Document to wrap.\r\n    *\r\n    * @param {TJSDocumentOptions}   [options] - TJSDocument options.\r\n    */\r\n   constructor(document, options = {})\r\n   {\r\n      this.#uuidv4 = `tjs-document-${uuidv4()}`;\r\n\r\n      this.setOptions(options);\r\n      this.set(document);\r\n   }\r\n\r\n   /**\r\n    * Returns the options passed on last update.\r\n    *\r\n    * @returns {object} Last update options.\r\n    */\r\n   get updateOptions() { return this.#updateOptions ?? {}; }\r\n\r\n   /**\r\n    * Returns the UUID assigned to this store.\r\n    *\r\n    * @returns {*} UUID\r\n    */\r\n   get uuidv4() { return this.#uuidv4; }\r\n\r\n   /**\r\n    * Handles cleanup when the document is deleted. Invoking any optional delete function set in the constructor.\r\n    *\r\n    * @returns {Promise<void>}\r\n    */\r\n   async #deleted()\r\n   {\r\n      if (this.#document instanceof foundry.abstract.Document)\r\n      {\r\n         delete this.#document.apps[this.#uuidv4];\r\n         this.#document = void 0;\r\n      }\r\n\r\n      this.#updateOptions = void 0;\r\n\r\n      if (typeof this.#options.delete === 'function') { await this.#options.delete(); }\r\n\r\n      if (this.#options.notifyOnDelete) { this.#notify(); }\r\n   }\r\n\r\n   /**\r\n    * @param {boolean}  [force] - unused - signature from Foundry render function.\r\n    *\r\n    * @param {object}   [options] - Options from render call; will have document update context.\r\n    */\r\n   #notify(force = false, options = {}) // eslint-disable-line no-unused-vars\r\n   {\r\n      this.#updateOptions = options;\r\n\r\n      // Subscriptions are stored locally as on the browser Babel is still used for private class fields / Babel\r\n      // support until 2023. IE not doing this will require several extra method calls otherwise.\r\n      const subscriptions = this.#subscriptions;\r\n      const document = this.#document;\r\n\r\n      for (let cntr = 0; cntr < subscriptions.length; cntr++) { subscriptions[cntr](document, options); }\r\n   }\r\n\r\n   /**\r\n    * @returns {T | undefined} Current document\r\n    */\r\n   get() { return this.#document; }\r\n\r\n   /**\r\n    * @param {T | undefined}  document - New document to set.\r\n    *\r\n    * @param {object}         [options] - New document update options to set.\r\n    */\r\n   set(document, options = {})\r\n   {\r\n      if (this.#document)\r\n      {\r\n         delete this.#document.apps[this.#uuidv4];\r\n      }\r\n\r\n      if (document !== void 0 && !(document instanceof foundry.abstract.Document))\r\n      {\r\n         throw new TypeError(`TJSDocument set error: 'document' is not a valid Document or undefined.`);\r\n      }\r\n\r\n      if (options === null || typeof options !== 'object')\r\n      {\r\n         throw new TypeError(`TJSDocument set error: 'options' is not an object.`);\r\n      }\r\n\r\n      if (document instanceof foundry.abstract.Document)\r\n      {\r\n         document.apps[this.#uuidv4] = {\r\n            close: this.#deleted.bind(this),\r\n            render: this.#notify.bind(this)\r\n         };\r\n      }\r\n\r\n      this.#document = document;\r\n      this.#updateOptions = options;\r\n      this.#notify();\r\n   }\r\n\r\n   /**\r\n    * Potentially sets new document from data transfer object.\r\n    *\r\n    * @param {object}   data - Document transfer data.\r\n    *\r\n    * @param {ParseDataTransferOptions & TJSDocumentOptions}   [options] - Optional parameters.\r\n    *\r\n    * @returns {Promise<boolean>} Returns true if new document set from data transfer blob.\r\n    */\r\n   async setFromDataTransfer(data, options)\r\n   {\r\n      return this.setFromUUID(getUUIDFromDataTransfer(data, options), options);\r\n   }\r\n\r\n   /**\r\n    * Sets the document by Foundry UUID performing a lookup and setting the document if found.\r\n    *\r\n    * @param {string}   uuid - A Foundry UUID to lookup.\r\n    *\r\n    * @param {TJSDocumentOptions}   [options] - New document update options to set.\r\n    *\r\n    * @returns {Promise<boolean>} True if successfully set document from UUID.\r\n    */\r\n   async setFromUUID(uuid, options = {})\r\n   {\r\n      if (typeof uuid !== 'string' || uuid.length === 0) { return false; }\r\n\r\n      try\r\n      {\r\n         const doc = await globalThis.fromUuid(uuid);\r\n\r\n         if (doc)\r\n         {\r\n            this.set(doc, options);\r\n            return true;\r\n         }\r\n      }\r\n      catch (err) { /**/ }\r\n\r\n      return false;\r\n   }\r\n\r\n   /**\r\n    * Sets options for this document wrapper / store.\r\n    *\r\n    * @param {TJSDocumentOptions}   options - Options for TJSDocument.\r\n    */\r\n   setOptions(options)\r\n   {\r\n      if (!isObject(options))\r\n      {\r\n         throw new TypeError(`TJSDocument error: 'options' is not an object.`);\r\n      }\r\n\r\n      if (options.delete !== void 0 && typeof options.delete !== 'function')\r\n      {\r\n         throw new TypeError(`TJSDocument error: 'delete' attribute in options is not a function.`);\r\n      }\r\n\r\n      if (options.notifyOnDelete !== void 0 && typeof options.notifyOnDelete !== 'boolean')\r\n      {\r\n         throw new TypeError(`TJSDocument error: 'notifyOnDelete' attribute in options is not a boolean.`);\r\n      }\r\n\r\n      if (options.delete === void 0 || typeof options.delete === 'function')\r\n      {\r\n         this.#options.delete = options.delete;\r\n      }\r\n\r\n      if (typeof options.notifyOnDelete === 'boolean')\r\n      {\r\n         this.#options.notifyOnDelete = options.notifyOnDelete;\r\n      }\r\n   }\r\n\r\n   /**\r\n    * @param {function(T, object): void} handler - Callback function that is invoked on update / changes.\r\n    *\r\n    * @returns {(function(): void)} Unsubscribe function.\r\n    */\r\n   subscribe(handler)\r\n   {\r\n      this.#subscriptions.push(handler);              // Add handler to the array of subscribers.\r\n\r\n      handler(this.#document, this.updateOptions);   // Call handler with current value and update options.\r\n\r\n      // Return unsubscribe function.\r\n      return () =>\r\n      {\r\n         const index = this.#subscriptions.findIndex((sub) => sub === handler);\r\n         if (index >= 0) { this.#subscriptions.splice(index, 1); }\r\n      };\r\n   }\r\n}\r\n\r\n/**\r\n * @typedef TJSDocumentOptions\r\n *\r\n * @property {Function} delete - Optional delete function to invoke when document is deleted.\r\n *\r\n * @property {boolean} notifyOnDelete - When true a subscribers are notified of the deletion of the document.\r\n */\r\n","import { isObject, uuidv4 } from '@typhonjs-fvtt/svelte/util';\r\n\r\n/**\r\n * Provides a wrapper implementing the Svelte store / subscriber protocol around any DocumentCollection. This makes\r\n * document collections reactive in a Svelte component, but otherwise provides subscriber functionality external to\r\n * Svelte.\r\n *\r\n * @template {DocumentCollection} T\r\n */\r\nexport class TJSDocumentCollection\r\n{\r\n   #collection;\r\n   #collectionCallback;\r\n   #uuid;\r\n\r\n   /**\r\n    * @type {TJSDocumentCollectionOptions}\r\n    */\r\n   #options = { delete: void 0, notifyOnDelete: false };\r\n\r\n   #subscriptions = [];\r\n   #updateOptions;\r\n\r\n   /**\r\n    * @param {T}                             [collection] - Collection to wrap.\r\n    *\r\n    * @param {TJSDocumentCollectionOptions}  [options] - TJSDocumentCollection options.\r\n    */\r\n   constructor(collection, options = {})\r\n   {\r\n      if (options?.delete !== void 0 && typeof options?.delete !== 'function')\r\n      {\r\n         throw new TypeError(`TJSDocumentCollection error: 'delete' attribute in options is not a function.`);\r\n      }\r\n\r\n      this.#uuid = `tjs-collection-${uuidv4()}`;\r\n\r\n      this.setOptions(options);\r\n      this.set(collection);\r\n   }\r\n\r\n   /**\r\n    * Returns the options passed on last update.\r\n    *\r\n    * @returns {object} Last update options.\r\n    */\r\n   get updateOptions() { return this.#updateOptions ?? {}; }\r\n\r\n   /**\r\n    * Returns the UUID assigned to this store.\r\n    *\r\n    * @returns {*} UUID\r\n    */\r\n   get uuid() { return this.#uuid; }\r\n\r\n   /**\r\n    * Handles cleanup when the collection is deleted. Invoking any optional delete function set in the constructor.\r\n    *\r\n    * @returns {Promise<void>}\r\n    */\r\n   async #deleted()\r\n   {\r\n      if (this.#collection instanceof DocumentCollection)\r\n      {\r\n         const index = this.#collection.apps.findIndex((sub) => sub === this.#collectionCallback);\r\n         if (index >= 0) { this.#collection.apps.splice(index, 1); }\r\n\r\n         this.#collection = void 0;\r\n      }\r\n\r\n      this.#updateOptions = void 0;\r\n\r\n      if (typeof this.#options.delete === 'function') { await this.#options.delete(); }\r\n\r\n      if (this.#options.notifyOnDelete) { this.#notify(); }\r\n   }\r\n\r\n   /**\r\n    * @param {boolean}  [force] - unused - signature from Foundry render function.\r\n    *\r\n    * @param {object}   [options] - Options from render call; will have collection update context.\r\n    */\r\n   #notify(force = false, options = {}) // eslint-disable-line no-unused-vars\r\n   {\r\n      this.#updateOptions = options;\r\n\r\n      // Subscriptions are stored locally as on the browser Babel is still used for private class fields / Babel\r\n      // support until 2023. IE not doing this will require several extra method calls otherwise.\r\n      const subscriptions = this.#subscriptions;\r\n      const collection = this.#collection;\r\n\r\n      for (let cntr = 0; cntr < subscriptions.length; cntr++) { subscriptions[cntr](collection, options); }\r\n   }\r\n\r\n   /**\r\n    * @returns {T | undefined} Current collection\r\n    */\r\n   get() { return this.#collection; }\r\n\r\n   /**\r\n    * @param {T | undefined}  collection - New collection to set.\r\n    *\r\n    * @param {object}         [options] - New collection update options to set.\r\n    */\r\n   set(collection, options = {})\r\n   {\r\n      if (this.#collection)\r\n      {\r\n         const index = this.#collection.apps.findIndex((sub) => sub === this.#collectionCallback);\r\n         if (index >= 0) { this.#collection.apps.splice(index, 1); }\r\n\r\n         this.#collectionCallback = void 0;\r\n      }\r\n\r\n      if (collection !== void 0 && !(collection instanceof DocumentCollection))\r\n      {\r\n         throw new TypeError(\r\n          `TJSDocumentCollection set error: 'collection' is not a valid DocumentCollection or undefined.`);\r\n      }\r\n\r\n      if (options === null || typeof options !== 'object')\r\n      {\r\n         throw new TypeError(`TJSDocument set error: 'options' is not an object.`);\r\n      }\r\n\r\n      if (collection instanceof DocumentCollection)\r\n      {\r\n         this.#collectionCallback = {\r\n            close: this.#deleted.bind(this),\r\n            render: this.#notify.bind(this)\r\n         };\r\n\r\n         collection.apps.push(this.#collectionCallback);\r\n      }\r\n\r\n      this.#collection = collection;\r\n      this.#updateOptions = options;\r\n      this.#notify();\r\n   }\r\n\r\n   /**\r\n    * Sets options for this collection wrapper / store.\r\n    *\r\n    * @param {TJSDocumentCollectionOptions}   options - Options for TJSDocumentCollection.\r\n    */\r\n   setOptions(options)\r\n   {\r\n      if (!isObject(options))\r\n      {\r\n         throw new TypeError(`TJSDocumentCollection error: 'options' is not an object.`);\r\n      }\r\n\r\n      if (options.delete !== void 0 && typeof options.delete !== 'function')\r\n      {\r\n         throw new TypeError(`TJSDocumentCollection error: 'delete' attribute in options is not a function.`);\r\n      }\r\n\r\n      if (options.notifyOnDelete !== void 0 && typeof options.notifyOnDelete !== 'boolean')\r\n      {\r\n         throw new TypeError(`TJSDocumentCollection error: 'notifyOnDelete' attribute in options is not a boolean.`);\r\n      }\r\n\r\n      if (options.delete === void 0 || typeof options.delete === 'function')\r\n      {\r\n         this.#options.delete = options.delete;\r\n      }\r\n\r\n      if (typeof options.notifyOnDelete === 'boolean')\r\n      {\r\n         this.#options.notifyOnDelete = options.notifyOnDelete;\r\n      }\r\n   }\r\n\r\n   /**\r\n    * @param {function(T, object): void} handler - Callback function that is invoked on update / changes.\r\n    *\r\n    * @returns {(function(): void)} Unsubscribe function.\r\n    */\r\n   subscribe(handler)\r\n   {\r\n      this.#subscriptions.push(handler);              // Add handler to the array of subscribers.\r\n\r\n      handler(this.#collection, this.updateOptions);  // Call handler with current value and update options.\r\n\r\n      // Return unsubscribe function.\r\n      return () =>\r\n      {\r\n         const index = this.#subscriptions.findIndex((sub) => sub === handler);\r\n         if (index >= 0) { this.#subscriptions.splice(index, 1); }\r\n      };\r\n   }\r\n}\r\n\r\n/**\r\n * @typedef TJSDocumentCollectionOptions\r\n *\r\n * @property {Function} delete - Optional delete function to invoke when document is deleted.\r\n *\r\n * @property {boolean} notifyOnDelete - When true a subscribers are notified of the deletion of the document.\r\n */\r\n","import { writable } from 'svelte/store';\r\n\r\nconst storeState = writable(void 0);\r\n\r\n/**\r\n * @type {GameState} Provides a Svelte store wrapping the Foundry runtime / global game state.\r\n */\r\nconst gameState = {\r\n   subscribe: storeState.subscribe,\r\n   get: () => game\r\n};\r\n\r\nObject.freeze(gameState);\r\n\r\nHooks.once('ready', () => storeState.set(game));\r\n\r\nexport { gameState };\r\n\r\n/**\r\n * @typedef {import('svelte/store').Readable} GameState - Provides a Svelte store wrapping the Foundry `game` global variable. It is initialized\r\n * on the `ready` hook. You may use this store to access the global game state from a Svelte template. It is a read only\r\n * store and will receive no reactive updates during runtime.\r\n *\r\n * @property {import('svelte/store').Readable.subscribe} subscribe - Provides the Svelte store subscribe function.\r\n *\r\n * @property {Function} get - Provides a mechanism to directly access the Foundry game state without subscribing.\r\n */\r\n","import { isIterable }      from '@typhonjs-fvtt/svelte/util';\r\nimport { get, writable }   from 'svelte/store';\r\n\r\n/**\r\n * Registers game settings and creates a backing Svelte store for each setting. It is possible to add multiple\r\n * `onChange` callbacks on registration.\r\n */\r\nexport class TJSGameSettings\r\n{\r\n   /**\r\n    * @type {Map<string, GSStore>}\r\n    */\r\n   #stores = new Map();\r\n\r\n   /**\r\n    * Returns the Game Settings store for the associated key.\r\n    *\r\n    * @param {string}   key - Game setting key.\r\n    *\r\n    * @returns {GSStore|undefined} The associated store for the given game setting key.\r\n    */\r\n   getStore(key)\r\n   {\r\n      if (!this.#stores.has(key))\r\n      {\r\n         console.warn(`TJSGameSettings - getStore: '${key}' is not a registered setting.`);\r\n         return;\r\n      }\r\n\r\n      return s_GET_STORE(this.#stores, key);\r\n   }\r\n\r\n   /**\r\n    * @param {GameSetting} setting - A GameSetting instance to set to Foundry game settings.\r\n    */\r\n   register(setting)\r\n   {\r\n      if (typeof setting !== 'object') { throw new TypeError(`TJSGameSettings - register: setting is not an object.`); }\r\n\r\n      if (typeof setting.options !== 'object')\r\n      {\r\n         throw new TypeError(`TJSGameSettings - register: 'options' attribute is not an object.`);\r\n      }\r\n\r\n      const moduleId = setting.moduleId;\r\n      const key = setting.key;\r\n\r\n      /**\r\n       * @type {GameSettingOptions}\r\n       */\r\n      const options = setting.options;\r\n\r\n      const onchangeFunctions = [];\r\n\r\n      // Handle loading any existing `onChange` callbacks.\r\n      if (isIterable(options?.onChange))\r\n      {\r\n         for (const entry of options.onChange)\r\n         {\r\n            if (typeof entry === 'function') { onchangeFunctions.push(entry); }\r\n         }\r\n      }\r\n      else if (typeof options.onChange === 'function')\r\n      {\r\n         onchangeFunctions.push(options.onChange);\r\n      }\r\n\r\n      // Provides an `onChange` callback to update the associated store.\r\n      onchangeFunctions.push((value) =>\r\n      {\r\n         const store = s_GET_STORE(this.#stores, key);\r\n         if (store) { store.set(value); }\r\n      });\r\n\r\n      // Provides the final onChange callback that iterates over all the stored onChange callbacks.\r\n      const onChange = (value) =>\r\n      {\r\n         for (const entry of onchangeFunctions) { entry(value); }\r\n      };\r\n\r\n      game.settings.register(moduleId, key, { ...options, onChange });\r\n\r\n      // Set new store value with existing setting or default value.\r\n      const newStore = s_GET_STORE(this.#stores, key, game.settings.get(moduleId, key));\r\n\r\n      // Subscribe to self to set associated game setting on updates after verifying that the new value does not match\r\n      // existing game setting.\r\n      newStore.subscribe((value) =>\r\n      {\r\n         if (game.settings.get(moduleId, key) !== value) { game.settings.set(moduleId, key, value); }\r\n      });\r\n   }\r\n\r\n   /**\r\n    * Registers multiple settings.\r\n    *\r\n    * @param {Iterable<GameSetting>} settings - An iterable list of game setting configurations to register.\r\n    */\r\n   registerAll(settings)\r\n   {\r\n      if (!isIterable(settings)) { throw new TypeError(`TJSGameSettings - registerAll: settings is not iterable.`); }\r\n\r\n      for (const entry of settings)\r\n      {\r\n         if (typeof entry !== 'object')\r\n         {\r\n            throw new TypeError(`TJSGameSettings - registerAll: entry in settings is not an object.`);\r\n         }\r\n\r\n         if (typeof entry.moduleId !== 'string')\r\n         {\r\n            throw new TypeError(`TJSGameSettings - registerAll: entry in settings missing 'moduleId' attribute.`);\r\n         }\r\n\r\n         if (typeof entry.key !== 'string')\r\n         {\r\n            throw new TypeError(`TJSGameSettings - registerAll: entry in settings missing 'key' attribute.`);\r\n         }\r\n\r\n         if (typeof entry.options !== 'object')\r\n         {\r\n            throw new TypeError(`TJSGameSettings - registerAll: entry in settings missing 'options' attribute.`);\r\n         }\r\n\r\n         this.register(entry);\r\n      }\r\n   }\r\n}\r\n\r\n/**\r\n * Gets a store from the GSStore Map or creates a new store for the key.\r\n *\r\n * @param {Map<string, GSStore>} stores - Map containing Svelte stores.\r\n *\r\n * @param {string}               key - Key to lookup in stores map.\r\n *\r\n * @param {string}               [initialValue] - An initial value to set to new stores.\r\n *\r\n * @returns {GSStore} The store for the given key.\r\n */\r\nfunction s_GET_STORE(stores, key, initialValue)\r\n{\r\n   let store = stores.get(key);\r\n   if (store === void 0)\r\n   {\r\n      store = s_CREATE_STORE(initialValue);\r\n      stores.set(key, store);\r\n   }\r\n\r\n   return store;\r\n}\r\n\r\n/**\r\n * Creates a new GSStore for the given key.\r\n *\r\n * @param {string}   initialValue - An initial value to set to new stores.\r\n *\r\n * @returns {GSStore} The new GSStore.\r\n */\r\nfunction s_CREATE_STORE(initialValue)\r\n{\r\n   const store = writable(initialValue);\r\n   store.get = () => get(store);\r\n\r\n   return store;\r\n}\r\n\r\n/**\r\n * @typedef {object} GameSettingOptions\r\n *\r\n * @property {object} [choices] - If choices are defined, the resulting setting will be a select menu.\r\n *\r\n * @property {boolean} [config=true] - Specifies that the setting appears in the configuration view.\r\n *\r\n * @property {string} [hint] - A description of the registered setting and its behavior.\r\n *\r\n * @property {string} name - The displayed name of the setting.\r\n *\r\n * @property {Function} [onChange] - An onChange callback to directly receive callbacks from Foundry on setting change.\r\n *\r\n * @property {object} [range] - If range is specified, the resulting setting will be a range slider.\r\n *\r\n * @property {('client' | 'world')} [scope='client'] - Scope for setting.\r\n *\r\n * @property {Object|Function} type - A constructable object or function.\r\n */\r\n\r\n/**\r\n * @typedef {object} GameSetting - Defines a game setting.\r\n *\r\n * @property {string} moduleId - The ID of the module / system.\r\n *\r\n * @property {string} key - The setting key to register.\r\n *\r\n * @property {GameSettingOptions} options - Configuration for setting data.\r\n */\r\n\r\n/**\r\n * @typedef {import('svelte/store').Writable & import('svelte/store').get} GSStore - The backing Svelte store; a writable w/ get method attached.\r\n */\r\n","/**\r\n * Awaits `requestAnimationFrame` calls by the counter specified. This allows asynchronous applications for direct /\r\n * inline style modification amongst other direct animation techniques.\r\n *\r\n * @param {number}   [cntr=1] - A positive integer greater than 0 for amount of requestAnimationFrames to wait.\r\n *\r\n * @returns {Promise<number>} Returns current time equivalent to `performance.now()`.\r\n */\r\nexport async function nextAnimationFrame(cntr = 1)\r\n{\r\n   if (!Number.isInteger(cntr) || cntr < 1)\r\n   {\r\n      throw new TypeError(`nextAnimationFrame error: 'cntr' must be a positive integer greater than 0.`);\r\n   }\r\n\r\n   let currentTime = performance.now();\r\n   for (;--cntr >= 0;)\r\n   {\r\n      currentTime = await new Promise((resolve) => requestAnimationFrame(resolve));\r\n   }\r\n\r\n   return currentTime;\r\n}\r\n","/**\r\n * Provides the storage and sequencing of managed position validators. Each validator added may be a bespoke function or\r\n * a {@link ValidatorData} object containing an `id`, `validator`, and `weight` attributes; `validator` is the only\r\n * required attribute.\r\n *\r\n * The `id` attribute can be anything that creates a unique ID for the validator; recommended strings or numbers. This\r\n * allows validators to be removed by ID easily.\r\n *\r\n * The `weight` attribute is a number between 0 and 1 inclusive that allows validators to be added in a\r\n * predictable order which is especially handy if they are manipulated at runtime. A lower weighted validator always\r\n * runs before a higher weighted validator. If no weight is specified the default of '1' is assigned and it is appended\r\n * to the end of the validators list.\r\n *\r\n * This class forms the public API which is accessible from the `.validators` getter in the main Position instance.\r\n * ```\r\n * const position = new Position(<PositionData>);\r\n * position.validators.add(...);\r\n * position.validators.clear();\r\n * position.validators.length;\r\n * position.validators.remove(...);\r\n * position.validators.removeBy(...);\r\n * position.validators.removeById(...);\r\n * ```\r\n */\r\nexport class AdapterValidators\r\n{\r\n   #validatorData;\r\n   #mapUnsubscribe = new Map();\r\n\r\n   /**\r\n    * @returns {[AdapterValidators, ValidatorData[]]} Returns this and internal storage for validator adapter.\r\n    */\r\n   constructor()\r\n   {\r\n      this.#validatorData = [];\r\n\r\n      Object.seal(this);\r\n\r\n      return [this, this.#validatorData];\r\n   }\r\n\r\n   /**\r\n    * @returns {number} Returns the length of the validators array.\r\n    */\r\n   get length() { return this.#validatorData.length; }\r\n\r\n   /**\r\n    * Provides an iterator for validators.\r\n    *\r\n    * @returns {Generator<ValidatorData|undefined>} Generator / iterator of validators.\r\n    * @yields {ValidatorData<T>}\r\n    */\r\n   *[Symbol.iterator]()\r\n   {\r\n      if (this.#validatorData.length === 0) { return; }\r\n\r\n      for (const entry of this.#validatorData)\r\n      {\r\n         yield { ...entry };\r\n      }\r\n   }\r\n\r\n   /**\r\n    * @param {...(ValidatorFn<T>|ValidatorData<T>)}   validators -\r\n    */\r\n   add(...validators)\r\n   {\r\n      /**\r\n       * Tracks the number of validators added that have subscriber functionality.\r\n       *\r\n       * @type {number}\r\n       */\r\n      let subscribeCount = 0;\r\n\r\n      for (const validator of validators)\r\n      {\r\n         const validatorType = typeof validator;\r\n\r\n         if (validatorType !== 'function' && validatorType !== 'object' || validator === null)\r\n         {\r\n            throw new TypeError(`AdapterValidator error: 'validator' is not a function or object.`);\r\n         }\r\n\r\n         let data = void 0;\r\n         let subscribeFn = void 0;\r\n\r\n         switch (validatorType)\r\n         {\r\n            case 'function':\r\n               data = {\r\n                  id: void 0,\r\n                  validator,\r\n                  weight: 1\r\n               };\r\n\r\n               subscribeFn = validator.subscribe;\r\n               break;\r\n\r\n            case 'object':\r\n               if (typeof validator.validator !== 'function')\r\n               {\r\n                  throw new TypeError(`AdapterValidator error: 'validator' attribute is not a function.`);\r\n               }\r\n\r\n               if (validator.weight !== void 0 && typeof validator.weight !== 'number' ||\r\n                (validator.weight < 0 || validator.weight > 1))\r\n               {\r\n                  throw new TypeError(\r\n                   `AdapterValidator error: 'weight' attribute is not a number between '0 - 1' inclusive.`);\r\n               }\r\n\r\n               data = {\r\n                  id: validator.id !== void 0 ? validator.id : void 0,\r\n                  validator: validator.validator,\r\n                  weight: validator.weight || 1\r\n               };\r\n\r\n               subscribeFn = validator.validator.subscribe ?? validator.subscribe;\r\n               break;\r\n         }\r\n\r\n         // Find the index to insert where data.weight is less than existing values weight.\r\n         const index = this.#validatorData.findIndex((value) =>\r\n         {\r\n            return data.weight < value.weight;\r\n         });\r\n\r\n         // If an index was found insert at that location.\r\n         if (index >= 0)\r\n         {\r\n            this.#validatorData.splice(index, 0, data);\r\n         }\r\n         else // push to end of validators.\r\n         {\r\n            this.#validatorData.push(data);\r\n         }\r\n\r\n         if (typeof subscribeFn === 'function')\r\n         {\r\n            // TODO: consider how to handle validator updates.\r\n            const unsubscribe = subscribeFn();\r\n\r\n            // Ensure that unsubscribe is a function.\r\n            if (typeof unsubscribe !== 'function')\r\n            {\r\n               throw new TypeError(\r\n                'AdapterValidator error: Filter has subscribe function, but no unsubscribe function is returned.');\r\n            }\r\n\r\n            // Ensure that the same validator is not subscribed to multiple times.\r\n            if (this.#mapUnsubscribe.has(data.validator))\r\n            {\r\n               throw new Error(\r\n                'AdapterValidator error: Filter added already has an unsubscribe function registered.');\r\n            }\r\n\r\n            this.#mapUnsubscribe.set(data.validator, unsubscribe);\r\n            subscribeCount++;\r\n         }\r\n      }\r\n\r\n      // Filters with subscriber functionality are assumed to immediately invoke the `subscribe` callback. If the\r\n      // subscriber count is less than the amount of validators added then automatically trigger an index update\r\n      // manually.\r\n      // TODO: handle validator updates.\r\n      // if (subscribeCount < validators.length) { this.#indexUpdate(); }\r\n   }\r\n\r\n   clear()\r\n   {\r\n      this.#validatorData.length = 0;\r\n\r\n      // Unsubscribe from all validators with subscription support.\r\n      for (const unsubscribe of this.#mapUnsubscribe.values())\r\n      {\r\n         unsubscribe();\r\n      }\r\n\r\n      this.#mapUnsubscribe.clear();\r\n\r\n      // TODO: handle validator updates.\r\n      // this.#indexUpdate();\r\n   }\r\n\r\n   /**\r\n    * @param {...(ValidatorFn<T>|ValidatorData<T>)}   validators -\r\n    */\r\n   remove(...validators)\r\n   {\r\n      const length = this.#validatorData.length;\r\n\r\n      if (length === 0) { return; }\r\n\r\n      for (const data of validators)\r\n      {\r\n         // Handle the case that the validator may either be a function or a validator entry / object.\r\n         const actualValidator = typeof data === 'function' ? data : data !== null && typeof data === 'object' ?\r\n          data.validator : void 0;\r\n\r\n         if (!actualValidator) { continue; }\r\n\r\n         for (let cntr = this.#validatorData.length; --cntr >= 0;)\r\n         {\r\n            if (this.#validatorData[cntr].validator === actualValidator)\r\n            {\r\n               this.#validatorData.splice(cntr, 1);\r\n\r\n               // Invoke any unsubscribe function for given validator then remove from tracking.\r\n               let unsubscribe = void 0;\r\n               if (typeof (unsubscribe = this.#mapUnsubscribe.get(actualValidator)) === 'function')\r\n               {\r\n                  unsubscribe();\r\n                  this.#mapUnsubscribe.delete(actualValidator);\r\n               }\r\n            }\r\n         }\r\n      }\r\n\r\n      // Update the index a validator was removed.\r\n      // TODO: handle validator updates.\r\n      // if (length !== this.#validatorData.length) { this.#indexUpdate(); }\r\n   }\r\n\r\n   /**\r\n    * Remove validators by the provided callback. The callback takes 3 parameters: `id`, `validator`, and `weight`.\r\n    * Any truthy value returned will remove that validator.\r\n    *\r\n    * @param {function(*, ValidatorFn<T>, number): boolean} callback - Callback function to evaluate each validator\r\n    *                                                                  entry.\r\n    */\r\n   removeBy(callback)\r\n   {\r\n      const length = this.#validatorData.length;\r\n\r\n      if (length === 0) { return; }\r\n\r\n      if (typeof callback !== 'function')\r\n      {\r\n         throw new TypeError(`AdapterValidator error: 'callback' is not a function.`);\r\n      }\r\n\r\n      this.#validatorData = this.#validatorData.filter((data) =>\r\n      {\r\n         const remove = callback.call(callback, { ...data });\r\n\r\n         if (remove)\r\n         {\r\n            let unsubscribe;\r\n            if (typeof (unsubscribe = this.#mapUnsubscribe.get(data.validator)) === 'function')\r\n            {\r\n               unsubscribe();\r\n               this.#mapUnsubscribe.delete(data.validator);\r\n            }\r\n         }\r\n\r\n         // Reverse remove boolean to properly validator / remove this validator.\r\n         return !remove;\r\n      });\r\n\r\n      // TODO: handle validator updates.\r\n      // if (length !== this.#validatorData.length) { this.#indexUpdate(); }\r\n   }\r\n\r\n   removeById(...ids)\r\n   {\r\n      const length = this.#validatorData.length;\r\n\r\n      if (length === 0) { return; }\r\n\r\n      this.#validatorData = this.#validatorData.filter((data) =>\r\n      {\r\n         let remove = false;\r\n\r\n         for (const id of ids) { remove |= data.id === id; }\r\n\r\n         // If not keeping invoke any unsubscribe function for given validator then remove from tracking.\r\n         if (remove)\r\n         {\r\n            let unsubscribe;\r\n            if (typeof (unsubscribe = this.#mapUnsubscribe.get(data.validator)) === 'function')\r\n            {\r\n               unsubscribe();\r\n               this.#mapUnsubscribe.delete(data.validator);\r\n            }\r\n         }\r\n\r\n         return !remove; // Swap here to actually remove the item via array validator method.\r\n      });\r\n\r\n      // TODO: handle validator updates.\r\n      // if (length !== this.#validatorData.length) { this.#indexUpdate(); }\r\n   }\r\n}\r\n\r\n/**\r\n * @typedef {function(object, PositionData): PositionData|null} ValidatorFn - Position validator function that\r\n *                         takes a {@link PositionData} instance potentially modifying it or returning null if invalid.\r\n *\r\n * @property {Function} [subscribe] - Optional subscribe function following the Svelte store / subscribe pattern.\r\n */\r\n\r\n/**\r\n * @typedef {object} ValidatorData\r\n *\r\n * @property {*}           [id=undefined] - An ID associated with this validator. Can be used to remove the validator.\r\n *\r\n * @property {ValidatorFn} validator - Position validator function that takes a {@link PositionData} instance\r\n *                                     potentially modifying it or returning null if invalid.\r\n *\r\n * @property {number}      [weight=1] - A number between 0 and 1 inclusive to position this validator against others.\r\n *\r\n * @property {Function}    [subscribe] - Optional subscribe function following the Svelte store / subscribe pattern.\r\n */\r\n","/**\r\n * Defines the keys of PositionData that are transform keys.\r\n *\r\n * @type {string[]}\r\n */\r\nconst transformKeys = ['rotateX', 'rotateY', 'rotateZ', 'scale'];\r\n\r\nObject.freeze(transformKeys);\r\n\r\n/**\r\n * Defines bitwise keys for transforms used in {@link Transforms.getMat4FromTransforms}.\r\n *\r\n * @type {object}\r\n */\r\nconst transformKeysBitwise = {\r\n   rotateX: 1,\r\n   rotateY: 2,\r\n   rotateZ: 4,\r\n   scale: 8\r\n};\r\n\r\nObject.freeze(transformKeysBitwise);\r\n\r\n/**\r\n * Defines the default transform origin.\r\n *\r\n * @type {string}\r\n */\r\nconst transformOriginDefault = 'top left';\r\n\r\n/**\r\n * Defines the valid transform origins.\r\n *\r\n * @type {string[]}\r\n */\r\nconst transformOrigins = ['top left', 'top center', 'top right', 'center left', 'center', 'center right', 'bottom left',\r\n 'bottom center', 'bottom right'];\r\n\r\nObject.freeze(transformOrigins);\r\n\r\nexport { transformKeys, transformKeysBitwise, transformOriginDefault, transformOrigins };\r\n","/**\r\n * @param {PositionData}   position - The complete position with top, left, width, height keys.\r\n *\r\n * @param {Application}    parent - Parent application.\r\n *\r\n * @returns {PositionData} Adjusted position data.\r\n */\r\nexport function browserWindow({ position, el, minWidth, marginTop, marginLeft, maxWidth, minHeight, maxHeight, width,\r\n height })\r\n{\r\n   if (position.width !== 'auto')\r\n   {\r\n      const minW = minWidth || MIN_WINDOW_WIDTH;\r\n      const maxW = maxWidth || el.style.maxWidth || globalThis.innerWidth;\r\n      position.width = width = Math.clamped(position.width, minW, maxW);\r\n\r\n      if ((width + position.left) > globalThis.innerWidth) { position.left = globalThis.innerWidth - width; }\r\n   }\r\n\r\n   if (position.height !== 'auto')\r\n   {\r\n      const minH = minHeight || MIN_WINDOW_HEIGHT;\r\n      const maxH = maxHeight || el.style.maxHeight || globalThis.innerHeight;\r\n      position.height = height = Math.clamped(position.height, minH, maxH);\r\n\r\n      if ((height + position.top) > globalThis.innerHeight) { position.top = globalThis.innerHeight - height; }\r\n   }\r\n\r\n   const maxL = Math.max(globalThis.innerWidth - width - marginLeft, 0);\r\n   position.left = Math.round(Math.clamped(position.left, 0, maxL));\r\n\r\n   const maxT = Math.max(globalThis.innerHeight - height - marginTop, 0);\r\n   position.top = Math.round(Math.clamped(position.top, 0, maxT));\r\n\r\n   return position;\r\n}\r\n","/**\r\n * @param {PositionData}   position - The complete position with top, left, width, height keys.\r\n *\r\n * @param {Application}    parent - Parent application.\r\n *\r\n * @returns {PositionData} Adjusted position data.\r\n */\r\nexport function transformWindow({ position, el, minWidth, marginTop, marginLeft, maxWidth, minHeight, maxHeight, width,\r\n height, transforms })\r\n{\r\n   if (!s_INIT_ALREADY) { s_INIT(); }\r\n\r\n   // if (position.width !== 'auto')\r\n   // {\r\n   //    const minW = minWidth || MIN_WINDOW_WIDTH;\r\n   //    const maxW = maxWidth || el.style.maxWidth || globalThis.innerWidth;\r\n   //    position.width = width = Math.clamped(position.width, minW, maxW);\r\n   //\r\n   //    if ((width + position.left) > globalThis.innerWidth) { position.left = globalThis.innerWidth - width; }\r\n   // }\r\n   //\r\n   // if (position.height !== 'auto')\r\n   // {\r\n   //    const minH = minHeight || MIN_WINDOW_HEIGHT;\r\n   //    const maxH = maxHeight || el.style.maxHeight || globalThis.innerHeight;\r\n   //    position.height = height = Math.clamped(position.height, minH, maxH);\r\n   //\r\n   //    if ((height + position.top) > globalThis.innerHeight) { position.top = globalThis.innerHeight - height; }\r\n   // }\r\n   //\r\n   // const maxL = Math.max(globalThis.innerWidth - width - marginLeft, 0);\r\n   // position.left = Math.round(Math.clamped(position.left, 0, maxL));\r\n   //\r\n   // const maxT = Math.max(globalThis.innerHeight - height - marginTop, 0);\r\n   // position.top = Math.round(Math.clamped(position.top, 0, maxT));\r\n\r\n   // TODO REMOVE: FOR TESTING\r\n   position.top += marginTop;\r\n   position.left += marginLeft;\r\n   const rect = transforms.getBoundingBox(position, s_RECT);\r\n   position.top -= marginTop;\r\n   position.left -= marginLeft;\r\n\r\n   s_OVERLAY.style.top = `${rect.top}px`;\r\n   s_OVERLAY.style.left = `${rect.left}px`;\r\n   s_OVERLAY.style.width = `${rect.width}px`;\r\n   s_OVERLAY.style.height = `${rect.height}px`;\r\n\r\n   if (rect.left < 0 || rect.right > globalThis.innerWidth || rect.top < 0 || rect.bottom > globalThis.innerHeight)\r\n   {\r\n      return null;\r\n   }\r\n\r\n   return position;\r\n}\r\n\r\nlet s_INIT_ALREADY = false;\r\nlet s_OVERLAY;\r\nconst s_RECT = new DOMRect();\r\n\r\nfunction s_INIT()\r\n{\r\n   s_INIT_ALREADY = true;\r\n\r\n   // TODO REMOVE: FOR TESTING\r\n   s_OVERLAY = document.createElement('div');\r\n   s_OVERLAY.style.zIndex = '99999';\r\n   s_OVERLAY.style.background = 'rgba(0, 0, 255, 0.3)';\r\n   s_OVERLAY.style.width = '200px';\r\n   s_OVERLAY.style.height = '200px';\r\n   s_OVERLAY.style.top = '100px';\r\n   s_OVERLAY.style.left = '100px';\r\n   s_OVERLAY.style.position = 'absolute';\r\n   s_OVERLAY.style.pointerEvents = 'none';\r\n\r\n   document.body.append(s_OVERLAY);\r\n}\r\n","import { degToRad, mat4, vec3 }  from '@typhonjs-fvtt/svelte/math';\r\n\r\nimport * as constants            from './constants.js';\r\n\r\nconst s_SCALE_VECTOR = [1, 1, 1];\r\nconst s_MAT4_RESULT = mat4.create();\r\nconst s_MAT4_TEMP = mat4.create();\r\nconst s_MAT4_TEMP_TRANSLATE = [mat4.create(), mat4.create()];\r\nconst s_RECT_TEMP = [vec3.create(), vec3.create(), vec3.create(), vec3.create()];\r\nconst s_VEC3_TEMP = vec3.create();\r\n\r\nexport class Transforms\r\n{\r\n   /**\r\n    * Stores the number of transforms currently loaded.\r\n    *\r\n    * @type {number}\r\n    */\r\n   #count = 0;\r\n\r\n   constructor()\r\n   {\r\n      this._data = {};\r\n   }\r\n\r\n   /**\r\n    * Provides an iterator for transform keys.\r\n    *\r\n    * @returns {Generator<string>} Generator / iterator of transform keys.\r\n    * @yields {string}\r\n    */\r\n   *[Symbol.iterator]()\r\n   {\r\n      for (const key in this._data) { yield key; }\r\n   }\r\n\r\n   get isActive() { return this.#count > 0; }\r\n\r\n   get rotateX() { return this._data.rotateX; }\r\n   get rotateY() { return this._data.rotateY; }\r\n   get rotateZ() { return this._data.rotateZ; }\r\n   get scale() { return this._data.scale; }\r\n\r\n   set rotateX(value)\r\n   {\r\n      if (Number.isFinite(value))\r\n      {\r\n         if (this._data.rotateX === void 0) { this.#count++; }\r\n\r\n         this._data.rotateX = value;\r\n      }\r\n      else\r\n      {\r\n         if (this._data.rotateX !== void 0) { this.#count--; }\r\n\r\n         delete this._data.rotateX;\r\n      }\r\n   }\r\n\r\n   set rotateY(value)\r\n   {\r\n      if (Number.isFinite(value))\r\n      {\r\n         if (this._data.rotateY === void 0) { this.#count++; }\r\n\r\n         this._data.rotateY = value;\r\n      }\r\n      else\r\n      {\r\n         if (this._data.rotateY !== void 0) { this.#count--; }\r\n\r\n         delete this._data.rotateY;\r\n      }\r\n   }\r\n\r\n   set rotateZ(value)\r\n   {\r\n      if (Number.isFinite(value))\r\n      {\r\n         if (this._data.rotateZ === void 0) { this.#count++; }\r\n\r\n         this._data.rotateZ = value;\r\n      }\r\n\r\n      else\r\n      {\r\n         if (this._data.rotateZ !== void 0) { this.#count--; }\r\n\r\n         delete this._data.rotateZ;\r\n      }\r\n   }\r\n\r\n   set scale(value)\r\n   {\r\n      if (Number.isFinite(value))\r\n      {\r\n         if (this._data.scale === void 0) { this.#count++; }\r\n\r\n         this._data.scale = value;\r\n      }\r\n      else\r\n      {\r\n         if (this._data.scale !== void 0) { this.#count--; }\r\n\r\n         delete this._data.scale;\r\n      }\r\n   }\r\n\r\n   /**\r\n    *\r\n    * @param {PositionData} position -\r\n    *\r\n    * @param {DOMRect}      [output] -\r\n    *\r\n    * @returns {DOMRect} The output DOMRect.\r\n    */\r\n   getBoundingBox(position, output = new DOMRect())\r\n   {\r\n      const rect = s_RECT_TEMP;\r\n\r\n      if (this.hasTransform(position))\r\n      {\r\n         rect[0][0] = rect[0][1] = rect[0][2] = 0;\r\n         rect[1][0] = position.width;\r\n         rect[1][1] = rect[1][2] = 0;\r\n         rect[2][0] = position.width;\r\n         rect[2][1] = position.height;\r\n         rect[2][2] = 0;\r\n         rect[3][0] = 0;\r\n         rect[3][1] = position.height;\r\n         rect[3][2] = 0;\r\n\r\n         const matrix = this.getMat4FromTransforms(position);\r\n\r\n         if (constants.transformOriginDefault === position.transformOrigin)\r\n         {\r\n            vec3.transformMat4(rect[0], rect[0], matrix);\r\n            vec3.transformMat4(rect[1], rect[1], matrix);\r\n            vec3.transformMat4(rect[2], rect[2], matrix);\r\n            vec3.transformMat4(rect[3], rect[3], matrix);\r\n         }\r\n         else\r\n         {\r\n            const translate = s_GET_ORIGIN_TRANSLATE(position, s_MAT4_TEMP_TRANSLATE);\r\n\r\n            vec3.transformMat4(rect[0], rect[0], translate[0]);\r\n            vec3.transformMat4(rect[0], rect[0], matrix);\r\n            vec3.transformMat4(rect[0], rect[0], translate[1]);\r\n\r\n            vec3.transformMat4(rect[1], rect[1], translate[0]);\r\n            vec3.transformMat4(rect[1], rect[1], matrix);\r\n            vec3.transformMat4(rect[1], rect[1], translate[1]);\r\n\r\n            vec3.transformMat4(rect[2], rect[2], translate[0]);\r\n            vec3.transformMat4(rect[2], rect[2], matrix);\r\n            vec3.transformMat4(rect[2], rect[2], translate[1]);\r\n\r\n            vec3.transformMat4(rect[3], rect[3], translate[0]);\r\n            vec3.transformMat4(rect[3], rect[3], matrix);\r\n            vec3.transformMat4(rect[3], rect[3], translate[1]);\r\n         }\r\n\r\n         rect[0][0] = position.left + rect[0][0];\r\n         rect[0][1] = position.top + rect[0][1];\r\n         rect[1][0] = position.left + rect[1][0];\r\n         rect[1][1] = position.top + rect[1][1];\r\n         rect[2][0] = position.left + rect[2][0];\r\n         rect[2][1] = position.top + rect[2][1];\r\n         rect[3][0] = position.left + rect[3][0];\r\n         rect[3][1] = position.top + rect[3][1];\r\n      }\r\n      else\r\n      {\r\n         rect[0][0] = position.left;\r\n         rect[0][1] = position.top;\r\n         rect[1][0] = position.left + position.width;\r\n         rect[1][1] = position.top;\r\n         rect[2][0] = position.left + position.width;\r\n         rect[2][1] = position.top + position.height;\r\n         rect[3][0] = position.left;\r\n         rect[3][1] = position.top + position.height;\r\n      }\r\n\r\n      let maxX = Number.MIN_SAFE_INTEGER;\r\n      let maxY = Number.MIN_SAFE_INTEGER;\r\n      let minX = Number.MAX_SAFE_INTEGER;\r\n      let minY = Number.MAX_SAFE_INTEGER;\r\n\r\n      for (let cntr = 4; --cntr >= 0;)\r\n      {\r\n         if (rect[cntr][0] > maxX) { maxX = rect[cntr][0]; }\r\n         if (rect[cntr][0] < minX) { minX = rect[cntr][0]; }\r\n         if (rect[cntr][1] > maxY) { maxY = rect[cntr][1]; }\r\n         if (rect[cntr][1] < minY) { minY = rect[cntr][1]; }\r\n      }\r\n\r\n      output.x = minX;\r\n      output.y = minY;\r\n      output.width = maxX - minX;\r\n      output.height = maxY - minY;\r\n\r\n      return output;\r\n   }\r\n\r\n   /**\r\n    * Returns the matrix3d CSS transform for the given position / transform data.\r\n    *\r\n    * @param data -\r\n    *\r\n    * @returns {string}\r\n    */\r\n   getTransformString(data = this._data)\r\n   {\r\n      return `matrix3d(${this.getMat4FromTransforms(data).join(',')})`;\r\n   }\r\n\r\n   /**\r\n    * Creates a transform matrix based on local data applied in order it was added.\r\n    *\r\n    * If no data object is provided then the source is the local transform data. If another data object is supplied\r\n    * then the stored local transform order is applied then all remaining transform keys are applied. This allows the\r\n    * construction of a transform matrix in advance of setting local data and is useful in collision detection.\r\n    *\r\n    * @param {object}   data -\r\n    *\r\n    * @param {mat4}     output -\r\n    *\r\n    * @returns {mat4} Transform matrix.\r\n    */\r\n   getMat4FromTransforms(data = this._data, output = s_MAT4_RESULT)\r\n   {\r\n      const matrix = mat4.identity(output);\r\n\r\n      // Bitwise tracks applied transform keys from local transform data.\r\n      let seenKeys = 0;\r\n\r\n      // First apply ordered transforms from local transform data.\r\n      for (const key in this._data)\r\n      {\r\n         switch (key)\r\n         {\r\n            case 'rotateX':\r\n               seenKeys |= constants.transformKeysBitwise.rotateX;\r\n               mat4.multiply(matrix, matrix, mat4.fromXRotation(s_MAT4_TEMP, degToRad(data[key])));\r\n               break;\r\n\r\n            case 'rotateY':\r\n               seenKeys |= constants.transformKeysBitwise.rotateY;\r\n               mat4.multiply(matrix, matrix, mat4.fromYRotation(s_MAT4_TEMP, degToRad(data[key])));\r\n               break;\r\n\r\n            case 'rotateZ':\r\n               seenKeys |= constants.transformKeysBitwise.rotateZ;\r\n               mat4.multiply(matrix, matrix, mat4.fromZRotation(s_MAT4_TEMP, degToRad(data[key])));\r\n               break;\r\n\r\n            case 'scale':\r\n               seenKeys |= constants.transformKeysBitwise.scale;\r\n               s_SCALE_VECTOR[0] = s_SCALE_VECTOR[1] = data[key];\r\n               mat4.multiply(matrix, matrix, mat4.fromScaling(s_MAT4_TEMP, s_SCALE_VECTOR));\r\n               break;\r\n         }\r\n      }\r\n\r\n      // Now apply any new keys not set in local transform data that have not been applied yet.\r\n      if (data !== this._data)\r\n      {\r\n         for (const key of constants.transformKeys)\r\n         {\r\n            // Reject bad / no data or if the key has already been applied.\r\n            if (!Number.isFinite(data[key]) || (seenKeys & constants.transformKeysBitwise[key]) > 0) { continue; }\r\n\r\n            switch (key)\r\n            {\r\n               case 'rotateX':\r\n                  mat4.multiply(matrix, matrix, mat4.fromXRotation(s_MAT4_TEMP, degToRad(data[key])));\r\n                  break;\r\n\r\n               case 'rotateY':\r\n                  mat4.multiply(matrix, matrix, mat4.fromYRotation(s_MAT4_TEMP, degToRad(data[key])));\r\n                  break;\r\n\r\n               case 'rotateZ':\r\n                  mat4.multiply(matrix, matrix, mat4.fromZRotation(s_MAT4_TEMP, degToRad(data[key])));\r\n                  break;\r\n\r\n               case 'scale':\r\n                  s_SCALE_VECTOR[0] = s_SCALE_VECTOR[1] = data[key];\r\n                  mat4.multiply(matrix, matrix, mat4.fromScaling(s_MAT4_TEMP, s_SCALE_VECTOR));\r\n                  break;\r\n            }\r\n         }\r\n      }\r\n\r\n      return matrix;\r\n   }\r\n\r\n   /**\r\n    * @param {PositionData} position -\r\n    *\r\n    * @returns {boolean} Whether the given PositionData has transforms.\r\n    */\r\n   hasTransform(position)\r\n   {\r\n      for (const key of constants.transformKeys)\r\n      {\r\n         if (Number.isFinite(position[key])) { return true; }\r\n      }\r\n\r\n      return false;\r\n   }\r\n\r\n   reset(data)\r\n   {\r\n      for (const key in data)\r\n      {\r\n         if (constants.transformKeys.includes(key) && Number.isFinite(data[key]))\r\n         {\r\n            this._data[key] = data[key];\r\n         }\r\n         else\r\n         {\r\n            delete this._data[key];\r\n         }\r\n      }\r\n\r\n      this.#count = Object.keys(this._data).length;\r\n   }\r\n}\r\n\r\n/**\r\n * @param {PositionData}   position -\r\n *\r\n * @param {number[]}       output - Output Mat4 array.\r\n *\r\n * @returns {number[]} Output Mat4 array.\r\n */\r\nfunction s_GET_ORIGIN_TRANSLATE(position, output = s_MAT4_TEMP_TRANSLATE)\r\n{\r\n   const vector = s_VEC3_TEMP;\r\n\r\n   switch (position.transformOrigin)\r\n   {\r\n      case 'top left':\r\n         vector[0] = vector[1] = 0;\r\n         mat4.fromTranslation(output[0], vector);\r\n         mat4.fromTranslation(output[1], vector);\r\n         break;\r\n\r\n      case 'top center':\r\n         vector[0] = -position.width / 2;\r\n         vector[1] = 0;\r\n         mat4.fromTranslation(output[0], vector);\r\n         vector[0] = position.width / 2;\r\n         mat4.fromTranslation(output[1], vector);\r\n         break;\r\n\r\n      case 'top right':\r\n         vector[0] = -position.width;\r\n         vector[1] = 0;\r\n         mat4.fromTranslation(output[0], vector);\r\n         vector[0] = position.width;\r\n         mat4.fromTranslation(output[1], vector);\r\n         break;\r\n\r\n      case 'center left':\r\n         vector[0] = 0;\r\n         vector[1] = -position.height / 2;\r\n         mat4.fromTranslation(output[0], vector);\r\n         vector[1] = position.height / 2;\r\n         mat4.fromTranslation(output[1], vector);\r\n         break;\r\n\r\n      case 'center':\r\n         vector[0] = -position.width / 2;\r\n         vector[1] = -position.height / 2;\r\n         mat4.fromTranslation(output[0], vector);\r\n         vector[0] = position.width / 2;\r\n         vector[1] = position.height / 2;\r\n         mat4.fromTranslation(output[1], vector);\r\n         break;\r\n\r\n      case 'center right':\r\n         vector[0] = -position.width;\r\n         vector[1] = -position.height / 2;\r\n         mat4.fromTranslation(output[0], vector);\r\n         vector[0] = position.width;\r\n         vector[1] = position.height / 2;\r\n         mat4.fromTranslation(output[1], vector);\r\n         break;\r\n\r\n      case 'bottom left':\r\n         vector[0] = 0;\r\n         vector[1] = -position.height;\r\n         mat4.fromTranslation(output[0], vector);\r\n         vector[1] = position.height;\r\n         mat4.fromTranslation(output[1], vector);\r\n         break;\r\n\r\n      case 'bottom center':\r\n         vector[0] = -position.width / 2;\r\n         vector[1] = -position.height;\r\n         mat4.fromTranslation(output[0], vector);\r\n         vector[0] = position.width / 2;\r\n         vector[1] = position.height;\r\n         mat4.fromTranslation(output[1], vector);\r\n         break;\r\n\r\n      case 'bottom right':\r\n         vector[0] = -position.width;\r\n         vector[1] = -position.height;\r\n         mat4.fromTranslation(output[0], vector);\r\n         vector[0] = position.width;\r\n         vector[1] = position.height;\r\n         mat4.fromTranslation(output[1], vector);\r\n         break;\r\n   }\r\n\r\n   return output;\r\n}\r\n","import { linear }                from 'svelte/easing';\r\n\r\nimport { nextAnimationFrame }    from '@typhonjs-fvtt/svelte/animate';\r\nimport { lerp }                  from '@typhonjs-fvtt/svelte/math';\r\nimport { isIterable,\r\n         styleParsePixels }      from '@typhonjs-fvtt/svelte/util';\r\n\r\nimport { propertyStore }         from '@typhonjs-svelte/lib/store';\r\n\r\nimport { AdapterValidators }     from './AdapterValidators.js';\r\nimport * as constants            from './constants.js';\r\nimport * as positionValidators   from './validators/index.js';\r\nimport { Transforms }            from './Transforms.js';\r\n\r\n/**\r\n * Provides a store for position following the subscriber protocol in addition to providing individual writable derived\r\n * stores for each independent variable.\r\n */\r\nexport class Position\r\n{\r\n   #subscriptions = [];\r\n\r\n   /**\r\n    * @type {PositionData}\r\n    */\r\n   #data = { height: null, left: null, rotateX: null, rotateY: null, rotateZ: null, scale: null, top: null,\r\n    transformOrigin: constants.transformOriginDefault, width: null, zIndex: null };\r\n\r\n   /**\r\n    * @type {Map<string, PositionData>}\r\n    */\r\n   #dataSaved = new Map();\r\n\r\n   /**\r\n    * Stores current animation keys.\r\n    *\r\n    * @type {Set<string>}\r\n    */\r\n   #currentAnimationKeys = new Set();\r\n\r\n   /**\r\n    * @type {PositionData}\r\n    */\r\n   #defaultData;\r\n\r\n   /**\r\n    * The associated parent for positional data tracking. Used in validators.\r\n    *\r\n    * @type {object}\r\n    */\r\n   #parent;\r\n\r\n   /**\r\n    * Stores all pending set position Promise resolve functions.\r\n    *\r\n    * @type {Function[]}\r\n    */\r\n   #elementUpdatePromises = [];\r\n\r\n   /**\r\n    * @type {StorePosition}\r\n    */\r\n   #stores;\r\n\r\n   /**\r\n    * @type {Transforms}\r\n    */\r\n   #transforms = new Transforms();\r\n\r\n   /**\r\n    * @type {boolean}\r\n    */\r\n   #transformUpdate = false;\r\n\r\n   /**\r\n    * @type {boolean}\r\n    */\r\n   #updateElementInvoked = false;\r\n\r\n   /**\r\n    * @type {AdapterValidators}\r\n    */\r\n   #validators;\r\n\r\n   /**\r\n    * @type {ValidatorData[]}\r\n    */\r\n   #validatorsAdapter;\r\n\r\n   static get Validators() { return positionValidators; }\r\n\r\n   /**\r\n    * @param {object}         parent - The associated parent for positional data tracking. Used in validators.\r\n    *\r\n    * @param {object}         options - Default values.\r\n    */\r\n   constructor(parent, options = {})\r\n   {\r\n      this.#parent = parent;\r\n\r\n      const data = this.#data;\r\n      const transforms = this.#transforms;\r\n\r\n      // Set default value from options.\r\n      if (typeof options === 'object')\r\n      {\r\n         if (Number.isFinite(options.height) || options.height === 'auto' || options.height === null)\r\n         {\r\n            data.height = typeof options.height === 'number' ? Math.round(options.height) : options.height;\r\n         }\r\n\r\n         if (Number.isFinite(options.left) || options.left === null)\r\n         {\r\n            data.left = typeof options.left === 'number' ? Math.round(options.left) : options.left;\r\n         }\r\n\r\n         if (Number.isFinite(options.rotateX) || options.rotateX === null)\r\n         {\r\n            transforms.rotateX = data.rotateX = options.rotateX;\r\n            this.#transformUpdate = true;\r\n         }\r\n\r\n         if (Number.isFinite(options.rotateY) || options.rotateY === null)\r\n         {\r\n            transforms.rotateY = data.rotateY = options.rotateY;\r\n            this.#transformUpdate = true;\r\n         }\r\n\r\n         if (Number.isFinite(options.rotateZ) || options.rotateZ === null)\r\n         {\r\n            transforms.rotateZ = data.rotateZ = options.rotateZ;\r\n            this.#transformUpdate = true;\r\n         }\r\n\r\n         if (Number.isFinite(options.scale) || options.scale === null)\r\n         {\r\n            transforms.scale = data.scale = options.scale;\r\n            this.#transformUpdate = true;\r\n         }\r\n\r\n         if (Number.isFinite(options.top) || options.top === null)\r\n         {\r\n            data.top = typeof options.top === 'number' ? Math.round(options.top) : options.top;\r\n         }\r\n\r\n         if (typeof options.transformOrigin === 'string' && constants.transformOrigins.includes(\r\n          options.transformOrigin))\r\n         {\r\n            data.transformOrigin = options.transformOrigin;\r\n         }\r\n\r\n         if (Number.isFinite(options.width) || options.width === 'auto' || options.width === null)\r\n         {\r\n            data.width = typeof options.width === 'number' ? Math.round(options.width) : options.width;\r\n         }\r\n\r\n         if (Number.isFinite(options.zIndex) || options.zIndex === null)\r\n         {\r\n            data.zIndex = typeof options.zIndex === 'number' ? Math.round(options.zIndex) : options.zIndex;\r\n         }\r\n      }\r\n\r\n      this.#stores = {\r\n         height: propertyStore(this, 'height'),\r\n         left: propertyStore(this, 'left'),\r\n         rotateX: propertyStore(this, 'rotateX'),\r\n         rotateY: propertyStore(this, 'rotateY'),\r\n         rotateZ: propertyStore(this, 'rotateZ'),\r\n         scale: propertyStore(this, 'scale'),\r\n         top: propertyStore(this, 'top'),\r\n         transformOrigin: propertyStore(this, 'transformOrigin'),\r\n         width: propertyStore(this, 'width'),\r\n         zIndex: propertyStore(this, 'zIndex')\r\n      };\r\n\r\n      this.#stores.transformOrigin.values = constants.transformOrigins;\r\n\r\n      Object.freeze(this.#stores);\r\n\r\n      [this.#validators, this.#validatorsAdapter] = new AdapterValidators();\r\n\r\n      if (typeof options?.validators === 'function')\r\n      {\r\n         this.validators.add(options.validators);\r\n      }\r\n      else if (isIterable(options?.validators))\r\n      {\r\n         this.validators.add(...options.validators);\r\n      }\r\n   }\r\n\r\n   /**\r\n    * Returns a promise that is resolved on the next element update with the time of the update.\r\n    *\r\n    * @returns {Promise<number>} Promise resolved on element update.\r\n    */\r\n   get elementUpdated()\r\n   {\r\n      return new Promise((resolve) => this.#elementUpdatePromises.push(resolve));\r\n   }\r\n\r\n   /**\r\n    * Returns the derived writable stores for individual data variables.\r\n    *\r\n    * @returns {StorePosition} Derived / writable stores.\r\n    */\r\n   get stores() { return this.#stores; }\r\n\r\n   /**\r\n    * Returns the validators.\r\n    *\r\n    * @returns {AdapterValidators} validators.\r\n    */\r\n   get validators() { return this.#validators; }\r\n\r\n// Data accessors ----------------------------------------------------------------------------------------------------\r\n\r\n   /**\r\n    * @returns {number|'auto'|null} height\r\n    */\r\n   get height() { return this.#data.height; }\r\n\r\n   /**\r\n    * @returns {number|null} left\r\n    */\r\n   get left() { return this.#data.left; }\r\n\r\n   /**\r\n    * @returns {number|null} rotateX\r\n    */\r\n   get rotateX() { return this.#data.rotateX; }\r\n\r\n   /**\r\n    * @returns {number|null} rotateY\r\n    */\r\n   get rotateY() { return this.#data.rotateY; }\r\n\r\n   /**\r\n    * @returns {number|null} rotateZ\r\n    */\r\n   get rotateZ() { return this.#data.rotateZ; }\r\n\r\n   /**\r\n    * @returns {number|null} scale\r\n    */\r\n   get scale() { return this.#data.scale; }\r\n\r\n   /**\r\n    * @returns {number|null} top\r\n    */\r\n   get top() { return this.#data.top; }\r\n\r\n   /**\r\n    * @returns {string} transformOrigin\r\n    */\r\n   get transformOrigin() { return this.#data.transformOrigin; }\r\n\r\n   /**\r\n    * @returns {number|'auto'|null} width\r\n    */\r\n   get width() { return this.#data.width; }\r\n\r\n   /**\r\n    * @returns {number|null} z-index\r\n    */\r\n   get zIndex() { return this.#data.zIndex; }\r\n\r\n   /**\r\n    * @param {number|'auto'|null} height -\r\n    */\r\n   set height(height)\r\n   {\r\n      this.#stores.height.set(height);\r\n   }\r\n\r\n   /**\r\n    * @param {number|null} left -\r\n    */\r\n   set left(left)\r\n   {\r\n      this.#stores.left.set(left);\r\n   }\r\n\r\n   /**\r\n    * @param {number|null} rotateX -\r\n    */\r\n   set rotateX(rotateX)\r\n   {\r\n      this.#stores.rotateX.set(rotateX);\r\n   }\r\n\r\n   /**\r\n    * @param {number|null} rotateY -\r\n    */\r\n   set rotateY(rotateY)\r\n   {\r\n      this.#stores.rotateY.set(rotateY);\r\n   }\r\n\r\n   /**\r\n    * @param {number|null} rotateZ -\r\n    */\r\n   set rotateZ(rotateZ)\r\n   {\r\n      this.#stores.rotateZ.set(rotateZ);\r\n   }\r\n\r\n   /**\r\n    * @param {number|null} scale -\r\n    */\r\n   set scale(scale)\r\n   {\r\n      this.#stores.scale.set(scale);\r\n   }\r\n\r\n   /**\r\n    * @param {number|null} top -\r\n    */\r\n   set top(top)\r\n   {\r\n      this.#stores.top.set(top);\r\n   }\r\n\r\n   /**\r\n    * @param {string} transformOrigin -\r\n    */\r\n   set transformOrigin(transformOrigin)\r\n   {\r\n      if (constants.transformOrigins.includes(transformOrigin)) { this.#stores.transformOrigin.set(transformOrigin); }\r\n   }\r\n\r\n   /**\r\n    * @param {number|'auto'|null} width -\r\n    */\r\n   set width(width)\r\n   {\r\n      this.#stores.width.set(width);\r\n   }\r\n\r\n   /**\r\n    * @param {number|null} zIndex -\r\n    */\r\n   set zIndex(zIndex)\r\n   {\r\n      this.#stores.zIndex.set(zIndex);\r\n   }\r\n\r\n   /**\r\n    * Provides animation\r\n    *\r\n    * @param {PositionData}   position - The destination position.\r\n    *\r\n    * @param {object}         [opts] - Optional parameters.\r\n    *\r\n    * @param {number}         [opts.duration] - Duration in milliseconds.\r\n    *\r\n    * @param {Function}       [opts.easing=linear] - Easing function.\r\n    *\r\n    * @param {Function}       [opts.interpolate=lerp] - Interpolation function.\r\n    *\r\n    * @returns {Promise<void>} Animation complete.\r\n    */\r\n   async animateTo(position = {}, { duration = 1000, easing = linear, interpolate = lerp } = {})\r\n   {\r\n      if (typeof position !== 'object')\r\n      {\r\n         throw new TypeError(`Position - animateTo error: 'position' is not an object.`);\r\n      }\r\n\r\n      // Early out if the application is not positionable.\r\n      const parent = this.#parent;\r\n      if (parent !== void 0 && typeof parent?.options?.positionable === 'boolean' && !parent?.options?.positionable)\r\n      {\r\n         return;\r\n      }\r\n\r\n      if (!Number.isInteger(duration) || duration < 0)\r\n      {\r\n         throw new TypeError(`Position - animateTo error: 'duration' is not a positive integer.`);\r\n      }\r\n\r\n      if (typeof easing !== 'function')\r\n      {\r\n         throw new TypeError(`Position - animateTo error: 'easing' is not a function.`);\r\n      }\r\n\r\n      if (typeof interpolate !== 'function')\r\n      {\r\n         throw new TypeError(`Position - animateTo error: 'interpolate' is not a function.`);\r\n      }\r\n\r\n      const data = this.#data;\r\n      const currentAnimationKeys = this.#currentAnimationKeys;\r\n      const initial = {};\r\n      const destination = {};\r\n\r\n      // Set initial data if the key / data is defined and the end position is not equal to current data.\r\n      for (const key in position)\r\n      {\r\n         if (data[key] !== void 0 && position[key] !== data[key])\r\n         {\r\n            destination[key] = position[key];\r\n            initial[key] = data[key];\r\n         }\r\n      }\r\n\r\n      // Set initial data for transform values that are often null by default.\r\n      if (initial.rotateX === null) { initial.rotateX = 0; }\r\n      if (initial.rotateY === null) { initial.rotateY = 0; }\r\n      if (initial.rotateZ === null) { initial.rotateZ = 0; }\r\n      if (initial.scale === null) { initial.scale = 1; }\r\n\r\n      if (destination.rotateX === null) { destination.rotateX = 0; }\r\n      if (destination.rotateY === null) { destination.rotateY = 0; }\r\n      if (destination.rotateZ === null) { destination.rotateZ = 0; }\r\n      if (destination.scale === null) { destination.scale = 1; }\r\n\r\n      // Reject all initial data that is not a number or is current animating.\r\n      // Add all keys that pass to `currentAnimationKeys`.\r\n      for (const key in initial)\r\n      {\r\n         if (!Number.isFinite(initial[key]) || currentAnimationKeys.has(key)) { delete initial[key]; }\r\n         else { currentAnimationKeys.add(key); }\r\n      }\r\n\r\n      const newData = Object.assign({}, initial);\r\n      const keys = Object.keys(newData);\r\n\r\n      // Nothing to animate, so return now.\r\n      if (keys.length === 0) { return; }\r\n\r\n      const start = await nextAnimationFrame();\r\n      let current = 0;\r\n\r\n      while (current < duration)\r\n      {\r\n         const easedTime = easing(current / duration);\r\n\r\n         for (const key of keys) { newData[key] = interpolate(initial[key], destination[key], easedTime); }\r\n\r\n         current = await this.set(newData).elementUpdated - start;\r\n      }\r\n\r\n      // Prepare final update with end position data and remove keys from `currentAnimationKeys`.\r\n      for (const key of keys)\r\n      {\r\n         newData[key] = position[key];\r\n         currentAnimationKeys.delete(key);\r\n      }\r\n\r\n      this.set(newData);\r\n   }\r\n\r\n   /**\r\n    * Assigns current position to object passed into method.\r\n    *\r\n    * @param {object|PositionData} [position] - Target to assign current position data.\r\n    *\r\n    * @returns {PositionData} Passed in object with current position data.\r\n    */\r\n   get(position = {})\r\n   {\r\n      return Object.assign(position, this.#data);\r\n   }\r\n\r\n   /**\r\n    * Returns any stored save state by name.\r\n    *\r\n    * @param {string}   name - Saved data set name.\r\n    *\r\n    * @returns {PositionData} The saved data set.\r\n    */\r\n   getSave({ name })\r\n   {\r\n      if (typeof name !== 'string') { throw new TypeError(`Position - getSave error: 'name' is not a string.`); }\r\n\r\n      return this.#dataSaved.get(name);\r\n   }\r\n\r\n   /**\r\n    * @returns {PositionData} Current position data.\r\n    */\r\n   toJSON()\r\n   {\r\n      return Object.assign({}, this.#data);\r\n   }\r\n\r\n   /**\r\n    * Resets data to default values and invokes set. Check options, but by default current z-index is maintained.\r\n    *\r\n    * @param {object}   [opts] - Optional parameters.\r\n    *\r\n    * @param {boolean}  [opts.keepZIndex=false] - When true keeps current z-index.\r\n    *\r\n    * @param {boolean}  [opts.invokeSet=true] - When true invokes set method.\r\n    *\r\n    * @returns {boolean} Operation successful.\r\n    */\r\n   reset({ keepZIndex = false, invokeSet = true } = {})\r\n   {\r\n      if (typeof this.#defaultData !== 'object') { return false; }\r\n\r\n      if (this.#currentAnimationKeys.size) { return false; }\r\n\r\n      const zIndex = this.#data.zIndex;\r\n\r\n      const data = Object.assign({}, this.#defaultData);\r\n\r\n      if (keepZIndex) { data.zIndex = zIndex; }\r\n\r\n      // Remove any keys that are currently animating.\r\n      for (const key of this.#currentAnimationKeys) { delete data[key]; }\r\n\r\n      // Reset the transform data.\r\n      this.#transforms.reset(data);\r\n\r\n      // If current minimized invoke `maximize`.\r\n      if (this.#parent?.reactive?.minimized) { this.#parent?.maximize?.({ animate: false, duration: 0 }); }\r\n\r\n      if (invokeSet) { this.set(data); }\r\n\r\n      return true;\r\n   }\r\n\r\n   /**\r\n    * Removes and returns any position state by name.\r\n    *\r\n    * @param {object}   options - Options.\r\n    *\r\n    * @param {string}   options.name - Name to remove and retrieve.\r\n    *\r\n    * @returns {PositionData} Saved position data.\r\n    */\r\n   remove({ name })\r\n   {\r\n      if (typeof name !== 'string') { throw new TypeError(`Position - remove: 'name' is not a string.`); }\r\n\r\n      const data = this.#dataSaved.get(name);\r\n      this.#dataSaved.delete(name);\r\n\r\n      return data;\r\n   }\r\n\r\n   /**\r\n    * Restores a saved positional state returning the data. Several optional parameters are available\r\n    * to control whether the restore action occurs silently (no store / inline styles updates), animates\r\n    * to the stored data, or simply sets the stored data. Restoring via {@link Position.animateTo} allows\r\n    * specification of the duration, easing, and interpolate functions along with configuring a Promise to be\r\n    * returned if awaiting the end of the animation.\r\n    *\r\n    * @param {object}            params - Parameters\r\n    *\r\n    * @param {string}            params.name - Saved data set name.\r\n    *\r\n    * @param {boolean}           [params.remove=false] - Remove data set.\r\n    *\r\n    * @param {Iterable<string>}  [params.properties] - Specific properties to set / animate.\r\n    *\r\n    * @param {boolean}           [params.silent] - Set position data directly; no store or style updates.\r\n    *\r\n    * @param {boolean}           [params.async=false] - If animating return a Promise that resolves with any saved data.\r\n    *\r\n    * @param {boolean}           [params.animateTo=false] - Animate to restore data.\r\n    *\r\n    * @param {number}            [params.duration=100] - Duration in milliseconds.\r\n    *\r\n    * @param {Function}          [params.easing=linear] - Easing function.\r\n    *\r\n    * @param {Function}          [params.interpolate=lerp] - Interpolation function.\r\n    *\r\n    * @returns {PositionData} Saved position data.\r\n    */\r\n   restore({ name, remove = false, properties, silent = false, async = false, animateTo = false, duration = 100,\r\n    easing = linear, interpolate = lerp })\r\n   {\r\n      if (typeof name !== 'string') { throw new TypeError(`Position - restore error: 'name' is not a string.`); }\r\n\r\n      const dataSaved = this.#dataSaved.get(name);\r\n\r\n      if (dataSaved)\r\n      {\r\n         if (remove) { this.#dataSaved.delete(name); }\r\n\r\n         let data = dataSaved;\r\n\r\n         if (isIterable(properties))\r\n         {\r\n            data = {};\r\n            for (const property of properties) { data[property] = dataSaved[property]; }\r\n         }\r\n\r\n         // Update data directly with no store or inline style updates.\r\n         if (silent)\r\n         {\r\n            for (const property in data) { this.#data[property] = data[property]; }\r\n            return dataSaved;\r\n         }\r\n         else if (animateTo)  // Animate to saved data.\r\n         {\r\n            // Provide special handling to potentially change transform origin as this parameter is not animated.\r\n            if (data.transformOrigin !== this.transformOrigin)\r\n            {\r\n               this.transformOrigin = data.transformOrigin;\r\n            }\r\n\r\n            // Return a Promise with saved data that resolves after animation ends.\r\n            if (async)\r\n            {\r\n               return this.animateTo(data, { duration, easing, interpolate }).then(() => dataSaved);\r\n            }\r\n            else  // Animate synchronously.\r\n            {\r\n               this.animateTo(data, { duration, easing, interpolate });\r\n            }\r\n         }\r\n         else\r\n         {\r\n            // Default options is to set data for an immediate update.\r\n            this.set(data);\r\n         }\r\n      }\r\n\r\n      return dataSaved;\r\n   }\r\n\r\n   /**\r\n    * Saves current position state with the opportunity to add extra data to the saved state.\r\n    *\r\n    * @param {object}   options - Options.\r\n    *\r\n    * @param {string}   options.name - name to index this saved data.\r\n    *\r\n    * @param {...*}     [options.extra] - Extra data to add to saved data.\r\n    *\r\n    * @returns {PositionData} Current position data\r\n    */\r\n   save({ name, ...extra })\r\n   {\r\n      if (typeof name !== 'string') { throw new TypeError(`Position - save error: 'name' is not a string.`); }\r\n\r\n      const data = this.get(extra);\r\n\r\n      this.#dataSaved.set(name, data);\r\n\r\n      return data;\r\n   }\r\n\r\n   /**\r\n    * All calculation and updates of position are implemented in {@link Position}. This allows position to be fully\r\n    * reactive and in control of updating inline styles for the application.\r\n    *\r\n    * Note: the logic for updating position is improved and changes a few aspects from the default\r\n    * {@link Application.setPosition}. The gate on `popOut` is removed, so to ensure no positional application occurs\r\n    * popOut applications can set `this.options.positionable` to false ensuring no positional inline styles are\r\n    * applied.\r\n    *\r\n    * The initial set call on an application with a target element will always set width / height as this is\r\n    * necessary for correct calculations.\r\n    *\r\n    * When a target element is present updated styles are applied after validation. To modify the behavior of set\r\n    * implement one or more validator functions and add them from the application via\r\n    * `this.position.validators.add(<Function>)`.\r\n    *\r\n    * Updates to any target element are decoupled from the underlying Position data. This method returns this instance\r\n    * that you can then await on the target element inline style update by using {@link Position.elementUpdated}.\r\n    *\r\n    * @param {PositionData}   [position] - Position data to set.\r\n    *\r\n    * @returns {Position} This Position instance.\r\n    */\r\n   set(position = {})\r\n   {\r\n      if (typeof position !== 'object') { throw new TypeError(`Position - set error: 'position' is not an object.`); }\r\n\r\n      const parent = this.#parent;\r\n\r\n      // An early out to prevent `set` from taking effect if options `positionable` is false.\r\n      if (parent !== void 0 && typeof parent?.options?.positionable === 'boolean' && !parent?.options?.positionable)\r\n      {\r\n         return this;\r\n      }\r\n\r\n      const data = this.#data;\r\n      const transforms = this.#transforms;\r\n\r\n      let updateTransform = false;\r\n\r\n      const el = parent instanceof HTMLElement ? parent : parent?.elementTarget;\r\n\r\n      if (el)\r\n      {\r\n         position = this.#updatePosition(position, parent, el);\r\n\r\n         // Check if a validator cancelled the update.\r\n         if (position === null) { return this; }\r\n      }\r\n\r\n      let modified = false;\r\n\r\n      if (typeof position.left === 'number')\r\n      {\r\n         position.left = Math.round(position.left);\r\n\r\n         if (data.left !== position.left) { data.left = position.left; modified = true; }\r\n      }\r\n\r\n      if (typeof position.top === 'number')\r\n      {\r\n         position.top = Math.round(position.top);\r\n\r\n         if (data.top !== position.top) { data.top = position.top; modified = true; }\r\n      }\r\n\r\n      if (typeof position.rotateX === 'number' || position.rotateX === null)\r\n      {\r\n         if (data.rotateX !== position.rotateX)\r\n         {\r\n            data.rotateX = transforms.rotateX = position.rotateX;\r\n            updateTransform = modified = true;\r\n         }\r\n      }\r\n\r\n      if (typeof position.rotateY === 'number' || position.rotateY === null)\r\n      {\r\n         if (data.rotateY !== position.rotateY)\r\n         {\r\n            data.rotateY = transforms.rotateY = position.rotateY;\r\n            updateTransform = modified = true;\r\n         }\r\n      }\r\n\r\n      if (typeof position.rotateZ === 'number' || position.rotateZ === null)\r\n      {\r\n         if (data.rotateZ !== position.rotateZ)\r\n         {\r\n            data.rotateZ = transforms.rotateZ = position.rotateZ;\r\n            updateTransform = modified = true;\r\n         }\r\n      }\r\n\r\n      if (typeof position.scale === 'number' || position.scale === null)\r\n      {\r\n         position.scale = typeof position.scale === 'number' ? Math.max(0, Math.min(position.scale, 1000)) : null;\r\n\r\n         if (data.scale !== position.scale)\r\n         {\r\n            data.scale = transforms.scale = position.scale;\r\n            updateTransform = modified = true;\r\n         }\r\n      }\r\n\r\n      if (typeof position.transformOrigin !== void 0)\r\n      {\r\n         position.transformOrigin = constants.transformOrigins.includes(position.transformOrigin) ?\r\n          position.transformOrigin : constants.transformOriginDefault;\r\n\r\n         if (data.transformOrigin !== position.transformOrigin)\r\n         {\r\n            data.transformOrigin = position.transformOrigin;\r\n            updateTransform = modified = true;\r\n         }\r\n      }\r\n\r\n      if (typeof position.zIndex === 'number')\r\n      {\r\n         position.zIndex = Math.round(position.zIndex);\r\n\r\n         if (data.zIndex !== position.zIndex) { data.zIndex = position.zIndex; modified = true; }\r\n      }\r\n\r\n      if (typeof position.width === 'number' || position.width === 'auto' || position.width === null)\r\n      {\r\n         position.width = typeof position.width === 'number' ? Math.round(position.width) : position.width;\r\n\r\n         if (data.width !== position.width) { data.width = position.width; modified = true; }\r\n      }\r\n\r\n      if (typeof position.height === 'number' || position.height === 'auto' || position.height === null)\r\n      {\r\n         position.height = typeof position.height === 'number' ? Math.round(position.height) : position.height;\r\n\r\n         if (data.height !== position.height) { data.height = position.height; modified = true; }\r\n      }\r\n\r\n      if (el)\r\n      {\r\n         // Set default data after first set operation that has a target element.\r\n         if (typeof this.#defaultData !== 'object') { this.#defaultData = Object.assign({}, data); }\r\n\r\n         // Track any transform updates that are handled in `#updateElement`.\r\n         this.#transformUpdate |= updateTransform;\r\n\r\n         // If there isn't already a pending update element action then initiate it.\r\n         if (!this.#updateElementInvoked) { this.#updateElement(); }\r\n      }\r\n\r\n      // Notify main store subscribers.\r\n      if (modified)\r\n      {\r\n         // Subscriptions are stored locally as on the browser Babel is still used for private class fields / Babel\r\n         // support until 2023. IE not doing this will require several extra method calls otherwise.\r\n         const subscriptions = this.#subscriptions;\r\n\r\n         // Early out if there are no subscribers.\r\n         if (subscriptions.length > 0)\r\n         {\r\n            for (let cntr = 0; cntr < subscriptions.length; cntr++) { subscriptions[cntr](position); }\r\n         }\r\n      }\r\n\r\n      return this;\r\n   }\r\n\r\n   /**\r\n    *\r\n    * @param {function(PositionData): void} handler - Callback function that is invoked on update / changes. Receives\r\n    *                                                 a copy of the PositionData.\r\n    *\r\n    * @returns {(function(): void)} Unsubscribe function.\r\n    */\r\n   subscribe(handler)\r\n   {\r\n      this.#subscriptions.push(handler); // add handler to the array of subscribers\r\n\r\n      handler(Object.assign({}, this.#data));                     // call handler with current value\r\n\r\n      // Return unsubscribe function.\r\n      return () =>\r\n      {\r\n         const index = this.#subscriptions.findIndex((sub) => sub === handler);\r\n         if (index >= 0) { this.#subscriptions.splice(index, 1); }\r\n      };\r\n   }\r\n\r\n   /**\r\n    * Decouples updates to any parent target HTMLElement inline styles. Invoke {@link Position.elementUpdated} to await\r\n    * on the returned promise that is resolved with the current render time via `nextAnimationFrame` /\r\n    * `requestAnimationFrame`. This allows the underlying data model to be updated immediately while updates to the\r\n    * element are in sync with the browser and potentially in the future be further throttled.\r\n    *\r\n    * @returns {Promise<number>} The current time before rendering.\r\n    */\r\n   async #updateElement()\r\n   {\r\n      this.#updateElementInvoked = true;\r\n\r\n      // Await the next animation frame. In the future this can be extended to multiple frames to divide update rate.\r\n      const currentTime = await nextAnimationFrame();\r\n\r\n      this.#updateElementInvoked = false;\r\n\r\n      const el = this.#parent?.elementTarget;\r\n\r\n      if (!el)\r\n      {\r\n         // Resolve any stored Promises when multiple updates have occurred.\r\n         if (this.#elementUpdatePromises.length)\r\n         {\r\n            for (const resolve of this.#elementUpdatePromises) { resolve(currentTime); }\r\n            this.#elementUpdatePromises.length = 0;\r\n         }\r\n\r\n         return currentTime;\r\n      }\r\n\r\n      const data = this.#data;\r\n\r\n      if (typeof data.left === 'number')\r\n      {\r\n         el.style.left = `${data.left}px`;\r\n      }\r\n\r\n      if (typeof data.top === 'number')\r\n      {\r\n         el.style.top = `${data.top}px`;\r\n      }\r\n\r\n      if (typeof data.zIndex === 'number' || data.zIndex === null)\r\n      {\r\n         el.style.zIndex = typeof data.zIndex === 'number' ? `${data.zIndex}` : null;\r\n      }\r\n\r\n      if (typeof data.width === 'number' || data.width === 'auto' || data.width === null)\r\n      {\r\n         el.style.width = typeof data.width === 'number' ? `${data.width}px` : data.width;\r\n      }\r\n\r\n      if (typeof data.height === 'number' || data.height === 'auto' || data.height === null)\r\n      {\r\n         el.style.height = typeof data.height === 'number' ? `${data.height}px` : data.height;\r\n      }\r\n\r\n      // Update all transforms in order added to transforms object.\r\n      if (this.#transformUpdate)\r\n      {\r\n         this.#transformUpdate = false;\r\n\r\n         // If there are active transforms then set them otherwise reset the styles.\r\n         if (this.#transforms.isActive)\r\n         {\r\n            el.style.transformOrigin = data.transformOrigin;\r\n            el.style.transform = this.#transforms.getTransformString();\r\n         }\r\n         else\r\n         {\r\n            el.style.transformOrigin = null;\r\n            el.style.transform = null;\r\n         }\r\n      }\r\n\r\n      // Resolve any stored Promises when multiple updates have occurred.\r\n      if (this.#elementUpdatePromises.length)\r\n      {\r\n         for (const resolve of this.#elementUpdatePromises) { resolve(currentTime); }\r\n         this.#elementUpdatePromises.length = 0;\r\n      }\r\n\r\n      return currentTime;\r\n   }\r\n\r\n   /**\r\n    *\r\n    * @param left\r\n    * @param top\r\n    * @param width\r\n    * @param height\r\n    * @param rotateX\r\n    * @param rotateY\r\n    * @param rotateZ\r\n    * @param scale\r\n    * @param transformOrigin\r\n    * @param zIndex\r\n    * @param rest\r\n    * @param parent\r\n    * @param el\r\n    *\r\n    * @returns {null|PositionData} Updated position data or null if validation fails.\r\n    */\r\n   #updatePosition({ left, top, width, height, rotateX, rotateY, rotateZ, scale, transformOrigin, zIndex,\r\n    ...rest } = {}, parent, el)\r\n   {\r\n      let currentPosition = this.get(rest);\r\n\r\n      // Update width if an explicit value is passed, or if no width value is set on the element.\r\n      if (el.style.width === '' || width !== void 0)\r\n      {\r\n         if (width === 'auto' || (currentPosition.width === 'auto' && width !== null))\r\n         {\r\n            currentPosition.width = 'auto';\r\n            width = el.offsetWidth;\r\n         }\r\n         else\r\n         {\r\n            currentPosition.width = width = typeof width === 'number' ? Math.round(width) : el.offsetWidth;\r\n         }\r\n      }\r\n      else\r\n      {\r\n         width = el.offsetWidth;\r\n      }\r\n\r\n      // Update height if an explicit value is passed, or if no height value is set on the element.\r\n      if (el.style.height === '' || height !== void 0)\r\n      {\r\n         if (height === 'auto' || (currentPosition.height === 'auto' && height !== null))\r\n         {\r\n            currentPosition.height = 'auto';\r\n            height = el.offsetHeight;\r\n         }\r\n         else\r\n         {\r\n            currentPosition.height = height = typeof height === 'number' ? Math.round(height) : el.offsetHeight + 1;\r\n         }\r\n      }\r\n      else\r\n      {\r\n         height = el.offsetHeight;\r\n      }\r\n\r\n      // Update left\r\n      if (el.style.left === '' || Number.isFinite(left))\r\n      {\r\n         currentPosition.left = Number.isFinite(left) ? left : (globalThis.innerWidth - width) / 2;\r\n      }\r\n\r\n      // Update top\r\n      if (el.style.top === '' || Number.isFinite(top))\r\n      {\r\n         currentPosition.top = Number.isFinite(top) ? top : (globalThis.innerHeight - height) / 2;\r\n      }\r\n\r\n      // Update rotate X/Y/Z, scale, z-index\r\n      if (typeof rotateX === 'number' || rotateX === null) { currentPosition.rotateX = rotateX; }\r\n      if (typeof rotateY === 'number' || rotateY === null) { currentPosition.rotateY = rotateY; }\r\n      if (typeof rotateZ === 'number' || rotateZ === null) { currentPosition.rotateZ = rotateZ; }\r\n\r\n      if (typeof scale === 'number' || scale === null)\r\n      {\r\n         currentPosition.scale = typeof scale === 'number' ? Math.max(0, Math.min(scale, 1000)) : null;\r\n      }\r\n\r\n      if (typeof transformOrigin === 'string')\r\n      {\r\n         currentPosition.transformOrigin = constants.transformOrigins.includes(transformOrigin) ? transformOrigin :\r\n          constants.transformOriginDefault;\r\n      }\r\n\r\n      if (typeof zIndex === 'number' || zIndex === null)\r\n      {\r\n         currentPosition.zIndex = typeof zIndex === 'number' ? Math.round(zIndex) : zIndex;\r\n      }\r\n\r\n      const validators = this.#validators;\r\n\r\n      // If there are any validators allow them to potentially modify position data or reject the update.\r\n      if (validators.length)\r\n      {\r\n         s_VALIDATOR_DATA.parent = parent;\r\n         s_VALIDATOR_DATA.el = el;\r\n         s_VALIDATOR_DATA.styles = globalThis.getComputedStyle(el);\r\n         s_VALIDATOR_DATA.transforms = this.#transforms;\r\n         s_VALIDATOR_DATA.marginTop = styleParsePixels(s_VALIDATOR_DATA.styles.marginTop);\r\n         s_VALIDATOR_DATA.marginLeft = styleParsePixels(s_VALIDATOR_DATA.styles.marginLeft);\r\n         s_VALIDATOR_DATA.minWidth = styleParsePixels(s_VALIDATOR_DATA.styles.minWidth);\r\n         s_VALIDATOR_DATA.maxWidth = styleParsePixels(s_VALIDATOR_DATA.styles.maxWidth);\r\n         s_VALIDATOR_DATA.minHeight = styleParsePixels(s_VALIDATOR_DATA.styles.minHeight);\r\n         s_VALIDATOR_DATA.maxHeight = styleParsePixels(s_VALIDATOR_DATA.styles.maxHeight);\r\n         s_VALIDATOR_DATA.width = width;\r\n         s_VALIDATOR_DATA.height = height;\r\n\r\n         for (const validator of validators)\r\n         {\r\n            s_VALIDATOR_DATA.position = currentPosition;\r\n            currentPosition = validator.validator(s_VALIDATOR_DATA);\r\n\r\n            if (currentPosition === null) { return null; }\r\n         }\r\n      }\r\n\r\n      // Return the updated position object.\r\n      return currentPosition;\r\n   }\r\n}\r\n\r\nconst s_VALIDATOR_DATA = {\r\n   position: void 0,\r\n   parent: void 0,\r\n   el: void 0,\r\n   styles: void 0,\r\n   transforms: void 0,\r\n   marginTop: void 0,\r\n   marginLeft: void 0,\r\n   minWidth: void 0,\r\n   maxWidth: void 0,\r\n   minHeight: void 0,\r\n   maxHeight: void 0,\r\n   width: void 0,\r\n   height: void 0\r\n};\r\n\r\nObject.seal(s_VALIDATOR_DATA);\r\n"],"names":["Symbol","iterator","AdapterFilters","constructor","indexUpdate","Map","filters","Object","seal","length","entry","add","subscribeCount","filter","filterType","TypeError","data","subscribeFn","id","weight","subscribe","index","findIndex","value","splice","push","unsubscribe","has","Error","set","clear","values","remove","actualFilter","cntr","get","delete","removeBy","callback","call","removeById","ids","AdapterSort","compareFn","compare","oldCompareFn","reset","Indexer","hostItems","hostUpdate","indexAdapter","hash","publicAPI","update","bind","defineProperties","isActive","Array","isArray","freeze","calcHashUpdate","oldIndex","oldHash","newHash","newIndex","s_ARRAY_EQUALS","initAdapters","filtersAdapter","sortAdapter","sortFn","a","b","reduceImpl","include","filCntr","filLength","keys","sort","DynArrayReducer","dataIterable","s_IS_ITERABLE","handler","sub","items","subscriptions","isStore","store","subscribeIgnoreFirst","firedFirst","subscribeFirstRest","first","isSimpleDeriver","deriver","generator","storage","readable","key","start","writable","noop","wrap_start","ogSet","wrap_set","new_value","setItem","JSON","stringify","getItem","parse","ogStore","ogWritable","fn","ogGet","run","invalidate","derived","stores","initial_value","single","stores_array","inited","pending","cleanup","sync","input","result","is_function","unsubscribers","map","i","stop","run_all","window","localStorage","g","LocalStorage","defaultValue","storageValue","getStore","s_GET_STORE","swapItemBoolean","newValue","s_CREATE_STORE","err","sessionStorage","SessionStorage","writableDerived","origins","derive","reflect","initial","childDerivedSetter","originValues","allowDerive","reflectOldValues","wrappedDerive","got","returned","childDerived","singleOrigin","sendUpstream","setWith","forEach","withOld","reflectIsAsync","doReflect","reflecting","tryingSet","isUpdated","mutatedBySubscriptions","oldValue","propertyStore","origin","propName","object","props","concat","target","constants.transformOriginDefault","constants.transformKeysBitwise","constants.transformKeys","constants.transformOrigins"],"mappings":"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"}